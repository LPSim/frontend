webpackJsonp([0],[,,function(e,t,r){"use strict";function a(e){r(39)}var i=r(11),s=r(40),n=r(0),o=a,c=n(i.a,s.a,!1,o,"data-v-98a9d5f4",null);t.a=c.exports},,,,function(e,t,r){"use strict";var a=r(29),i=r(46),s=r(49),n=r(52),o=r(55),c=r(16);try{navigator.serviceWorker.getRegistrations().then(function(e){var t=!0,r=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){i.value.unregister()}}catch(e){r=!0,a=e}finally{try{!t&&s.return&&s.return()}finally{if(r)throw a}}})}catch(e){}t.a={name:"App",components:{PlayerTable:a.a,RequestDetails:i.a,RequestButton:s.a,Deck:n.a,DescBlock:o.a},data:function(){return{dataVersion:null,matchDataInput:"Loading...",matchData:[],requestData:[],currentDataIndex:0,maxPlayedDataIndex:0,fullMatch:null,predictFullMatch:null,playerTableOrder:-1,stepCount:1,processing:!1,selectedRequest:null,commandPOSTData:null,interactionInput:"",interactionCommands:[[],[]],commandHistory:[[],[]],multiCommandTimeout:100,refreshInterval:1e3,showDebug:!1,displayInJudgeMode:!1,refreshTimeout:null,matchUUID:null,showOverlay:!0}},created:function(){this.$store.commit("readFromLocalStorage"),console.log("APP",this),console.log("STORE",this.$store.state),this.$root.$i18n.locale=this.currentLanguage,window.removeEventListener("keydown",this.handleKeyDown),window.addEventListener("keydown",this.handleKeyDown)},methods:{getFailFunc:function(e){function t(t){this.make_alert(this.$t(e)+t,t),r&&this.stopServerByError()}var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.bind(this)},getCheckFunc:function(e){function t(t){var a=this;if(t.ok)return t.json();t.json().then(function(e){throw new Error(a.$t("Network response is not ok with detail ")+JSON.stringify(e.detail))}).catch(function(t){a.make_alert(a.$t(e)+JSON.stringify(t),t),r&&a.stopServerByError()})}var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.bind(this)},connectServer:function(){function e(e){var t=this;console.log("PATCH",e,Object.keys(e.patch).length,"KEYS"),this.updateLocales(e),this.$store.commit("updateDataByPatch",e),alert(this.$t("Connected to server.")),this.serverConnected=!0,this.refreshTimeout=setTimeout(function(){return t.refreshData()},0)}function t(e){console.log("DECK CODE DATA",e),this.$store.commit("setDeckCodeData",e)}function r(){this.showOverlay=!1,c.a.getPatch(this.serverURL,e.bind(this),this.getCheckFunc(a).bind(this),this.getFailFunc(a).bind(this)),c.a.getDeckCodeData(this.serverURL,t.bind(this),this.getCheckFunc(a).bind(this),this.getFailFunc(a).bind(this))}if(this.wrongProtocol(),!this.serverConnected){var a="Error in connecting server. ";this.checkVersion(this.serverURL,r.bind(this))}},checkRoomName:function(){if(""==this.roomName)return!0;if(this.roomName.length<4||this.roomName.length>12)return!1;var e=!0,t=!1,r=void 0;try{for(var a,i=this.roomName[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var s=a.value;if((s<"0"||s>"9")&&(s<"a"||s>"z")&&(s<"A"||s>"Z")&&"_"!=s)return!1}}catch(e){t=!0,r=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw r}}return!0},overlayConnectServer:function(){function e(e){var t=e.port,r=e.status;if(console.log(t,r),"failed"==r)return void alert(this.$t("Create room failed. Please check backend output."));if("full"==r)return void alert(this.$t("Room is full. Please try to create new room later or enter existing rooms."));"exist"==r&&alert(this.$t("Successfully enter room ")+this.roomName),"created"==r&&alert(this.$t("Successfully create room ")+this.roomName);var a=new URL(this.roomServerURL);a.port=t;for(var i=a.toString();i.endsWith("/");)i=i.slice(0,-1);this.serverURL=i,c.a.updateRoomName(this.roomName),localStorage.setItem("roomName",this.roomName),this.showOverlay=!1,this.connectServer()}function t(t){var r="HTTPServer";if(t.info&&(r=t.info.class),"HTTPRoomServer"==r&&""==this.roomName){var a=this.$t("Server is room server, but room name is empty. Please input room name.");return void alert(a)}if("HTTPServer"==r&&""!=this.roomName){var i=this.$t("Server is match server, but room name is not empty. Please clear room name.");return void alert(i)}if(t.info&&"HTTPServer"!=t.info.class){var s="Error in posting room name. ";c.a.postRoomName(this.roomServerURL,this.roomName,e.bind(this),this.getCheckFunc(s).bind(this),this.getFailFunc(s).bind(this))}else this.serverURL=this.roomServerURL,this.connectServer()}if(!this.checkRoomName())return void alert(this.$t("Room name must be 4-12 characters, only contains alphabets, numbers or underscore(_)."));console.log(this.roomServerURL,this.serverURL),this.checkVersion(this.roomServerURL,t.bind(this))},stopServerByError:function(){clearTimeout(this.refreshTimeout),this.refreshTimeout=null,this.serverConnected=!1,confirm(this.$t("Stop server connection by error, clear all data?"))&&(this.clearAllData(!1),this.connectServer())},clearAllData:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];document.activeElement.blur(),this.$store.commit("setShowDeckDiv",!1),clearTimeout(this.refreshTimeout),this.matchData=[],this.fullMatch=null,this.predictFullMatch=null,this.currentDataIndex=0,this.maxPlayedDataIndex=0,this.interactionCommands=[[],[]],this.commandHistory=[[],[]],this.requestData=[],this.processing=!1,this.matchUUID=null,e&&alert(this.$t("Game reset successfully!"))},checkVersion:function(e){function t(e){var t=e.version;console.log("SERVER VERSION",t);var i=r(58).version;if(void 0!=t&&"unknown"!=t&&(t=t.replace(/\.post\d+$/,""))!=i){var s=this.$t("Server version is ")+t+this.$t(", but client version is ")+i+this.$t(". Client may not work properly.");alert(s)}a&&a(e)}var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i="Error in checking server version. ";c.a.getVersion(e,t.bind(this),this.getCheckFunc(i).bind(this),this.getFailFunc(i).bind(this))},updateLocales:function(e){var t=e.version;if("1.0"!=t)throw new Error("Unknown patch version "+t);e=e.patch;var r={};for(var a in e){var i=e[a];if(i.names)for(var s in i.names){r[s]||(r[s]={});var n=i.names[s];if("$"==n[0]){var o=n.slice(1);n=this.$i18n.messages[s][o]}r[s][a]=n}if(i.descs)for(var c in i.descs)for(var l in i.descs[c]){r[l]||(r[l]={});var d=i.descs[c][l];if("$"==d[0]){var u=d.slice(1);d=this.$i18n.messages[l][u]}r[l][a+"/"+c]=d}}console.log("NEW MESSAGES",r);for(var h in r)this.$i18n.mergeLocaleMessage(h,r[h])},wrongProtocol:function(){if(document.URL.includes("lpsim.zyr17.cn")){var e=window.location.protocol,t=this.serverURL;if("https"!=t.split(":")[0].trim().toLowerCase()){if(t.includes("localhost")||t.includes("127.0.0.1")){if("https:"==e)return;var r=this.$t("To connect localhost server, visit https://lpsim.zyr17.cn. Currently you are visiting http page.");throw this.make_alert(r,r),new Error(r)}if("http:"!=e){var a=this.$t("To connect LAN server, visit http://lpsim.zyr17.cn. Currently you are visiting https page.");throw this.make_alert(a,a),new Error(a)}}else if("https:"!=e){var i=this.$t("To connect https server, visit https://lpsim.zyr17.cn. Currently you are visiting http page.");throw this.make_alert(i,i),new Error(i)}}},changeLanguage:function(){if(null==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)){var e=Object.keys(this.$i18n.messages).sort(),t=e.indexOf(this.currentLanguage);this.currentLanguage=e[(t+1)%e.length],this.$root.$i18n.locale=this.currentLanguage,console.log("Change language to "+this.currentLanguage)}},make_alert:function(e,t){console.error(t),alert(e+this.$t("\nFind detail in console.")),clearTimeout(this.refreshTimeout),this.refreshTimeout=null},handleFileSelect:function(){var e=this,t=this.$refs.fileInput.files[0],r=new FileReader;r.onload=function(){e.matchDataInput=r.result,e.parseLogFileData()},r.readAsText(t)},logRequest:function(e){console.log("REQUEST",JSON.parse(JSON.stringify(e)))},handleKeyDown:function(e){var t="INPUT"==e.target.tagName&&"radio"!==e.target.type||"TEXTAREA"==e.target.tagName;27===e.keyCode?t||this.cancelSelection():13!==e.keyCode&&32!=e.keyCode||t||this.confirmSelection()},updateMatch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(void 0===e&&(e=this.matchData[this.currentDataIndex]),void 0!==e){e=JSON.parse(JSON.stringify(e)),e.player_tables[0].player_idx=0,e.player_tables[1].player_idx=1;var a=e.requests;this.currentDataIndex==this.matchData.length-1&&(a=JSON.parse(JSON.stringify(this.requestData)));for(var i=0;i<a.length;i++){var s=a[i];if("UseCardRequest"==s.name){var n=s.player_idx,o=s.card_idx,c=e.player_tables[n].hands,l=c[o];l?l.cost=s.cost:console.error("UseCardRequest, but card not exist",s,c)}else if("UseSkillRequest"==s.name);else if("SwitchCharactorRequest"==s.name);else if("RerollDiceRequest"==s.name){var d=s.player_idx,u=s.colors;e.player_tables[d].dice.colors=u}}this.fullMatch=e,this.fullMatch.requests=a;var h=this.fullMatch,m=null;"MAKE_DAMAGE"==h.last_action.type&&(m=h.action_info,m.position=h.last_action.damage_value_list[0].position),this.$store.commit("setDamageNotify",m),this.commitMatchToStore(t,r)}},commitMatchToStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null==t&&(t=this.playerTableOrder),null==e&&(e=this.displayInJudgeMode),e&&(t=null),this.predictFullMatch=null,this.$store.commit("setMatch",{match:this.fullMatch,player_idx:t})},parseLogFileData:function(){var e=this.matchDataInput.trim().split("\n").map(function(e){return JSON.parse(e)});this.dataVersion=e[0].version,"Main"==e[0].name?this.matchData=e.map(function(e){return e.match}):this.matchData=e,this.updateMatch(this.matchData[0]),this.currentDataIndex=0,this.matchDataInput=""},showPrevData:function(){var e=parseInt(this.stepCount);this.currentDataIndex=Math.max(0,this.currentDataIndex-e),this.jumpToData()},showNextData:function(){var e=parseInt(this.stepCount);this.currentDataIndex=Math.min(this.matchData.length-1,this.currentDataIndex+e),this.currentDataIndex>this.maxPlayedDataIndex&&(this.maxPlayedDataIndex=this.currentDataIndex),this.jumpToData()},jumpToData:function(){this.currentDataIndex=Math.min(this.matchData.length-1,Math.max(0,this.currentDataIndex)),this.updateMatch(this.matchData[this.currentDataIndex])},jumpToEndData:function(){this.currentDataIndex=this.matchData.length-1,this.maxPlayedDataIndex=this.currentDataIndex,this.updateMatch(this.matchData[this.currentDataIndex])},sendInteraction:function(){var e=this.interactionInput.trim();if(0!=e.length){try{if(e=JSON.parse(e),Array.isArray(e)&&2==e.length)return this.interactionCommands=e,this.interactionCommands[this.currentRequestPlayerId].length>1&&(this.processing=!0),void this.realSendInteraction()}catch(e){}this.interactionCommands[this.currentRequestPlayerId]=e.split("\n"),this.interactionCommands[this.currentRequestPlayerId].length>1&&(this.processing=!0),this.realSendInteraction()}},realSendInteraction:function(){function e(e){var t=this;e&&(console.log("Received Data",e),this.commandHistory[this.commandPOSTData.player_idx].push(this.commandPOSTData.command),this.interactionInput="",console.log("HISTORY",this.commandHistory),0==e.length&&this.updateRequestData(),this.updateMatchData(e),this.match.requests.length>0&&(this.selectedRequest=this.match.requests[0]),setTimeout(function(){return t.realSendInteraction()},this.multiCommandTimeout))}var t=this,r=this.currentRequestPlayerId;if(null==r)return void setTimeout(function(){return t.realSendInteraction()},this.multiCommandTimeout);for(var a=!1;this.interactionCommands[r].length>0&&"TEST"==this.interactionCommands[r][0].slice(0,4);)this.commandHistory[r].push(this.interactionCommands[r][0]),this.interactionCommands[r]=this.interactionCommands[r].slice(1),a=!0;if(0==this.interactionCommands[r].length)return this.processing=!1,void(a&&(this.interactionInput=""));var i={player_idx:this.currentRequestPlayerId,command:this.interactionCommands[r][0]};this.matchUUID&&(i.uuid=this.matchUUID),console.log(i),this.commandPOSTData=i,this.interactionCommands[r]=this.interactionCommands[r].slice(1),null!=this.refreshTimeout&&clearTimeout(this.refreshTimeout);var s="Error in sending response. If this error occurs frequently, please try refreshing the page. Detail: ";c.a.postRespond(this.serverURL,i,e.bind(this),this.getCheckFunc(s,!1),this.getFailFunc(s).bind(this))},decodeDiffMatchData:function(e){var t=[];if(0==e.length)return t;for(var r=0;r<e.length;r++)if("FULL"==e[r].type)t.push(e[r]);else{for(var a=e[r].match_diff,i=JSON.parse(JSON.stringify(e[r-1].match)),s=0;s<a.length;s++){var n=a[s],o=n[1];"string"==typeof o&&(o=o.split("."));for(var c=i,l=0;l<o.length-1;l++)c=c[o[l]];if(o=o[o.length-1],"change"==n[0])c[o]=n[2][1];else if("add"==n[0]){var d=!0,u=!1,h=void 0;try{for(var m,v=n[2][Symbol.iterator]();!(d=(m=v.next()).done);d=!0){var p=m.value,f=p[0];c[o][f]=p[1]}}catch(e){u=!0,h=e}finally{try{!d&&v.return&&v.return()}finally{if(u)throw h}}}else if("remove"==n[0]){var _=!0,g=!1,y=void 0;try{for(var C,b=n[2][Symbol.iterator]();!(_=(C=b.next()).done);_=!0){var D=C.value,k=D[0];if(delete c[o][k],Array.isArray(c[o]))for(;c[o].length&&(void 0===c[o][c[o].length-1]||null===c[o][c[o].length-1]);)c[o].pop()}}catch(e){g=!0,y=e}finally{try{!_&&b.return&&b.return()}finally{if(g)throw y}}}}e[r].match=i,t.push(e[r])}return t},UUIDDifferent:function(e){this.matchUUID=e,null!=this.refreshTimeout&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=null),confirm(this.$t("UUID not match! refresh stopped. Clear all data and continue refreshing?"))&&(this.clearAllData(!1),this.refreshData())},updateMatchData:function(e){var t=this;if((!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(null!=this.refreshTimeout&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=null),this.refreshTimeout=setTimeout(function(){return t.refreshData()},this.refreshInterval)),0==e.length)return void(this.matchData.length>this.maxPlayedDataIndex+1&&(this.maxPlayedDataIndex+=1,this.currentDataIndex=this.maxPlayedDataIndex,this.updateMatch(this.matchData[this.currentDataIndex])));var r=e[0].uuid;if(this.matchUUID&&r&&r!=this.matchUUID)return void this.UUIDDifferent(r);this.matchUUID=r,e=this.decodeDiffMatchData(e);for(var a=0;a<e.length;a++){var i=e[a],s=i.idx,n=i.match;s==this.matchData.length?(this.matchData.push(n),this.requestData=n.requests):s>this.matchData.length?this.make_alert("Error in update match data. "+s+" is greater than current length "+this.matchData.length,e):this.matchData[s]=n}this.currentDataIndex=this.matchData.length-1,this.currentDataIndex>this.maxPlayedDataIndex&&(this.maxPlayedDataIndex+=1,this.currentDataIndex=this.maxPlayedDataIndex),this.updateMatch(this.matchData[this.currentDataIndex])},refreshData:function(){function e(e){e&&(this.updateMatchData(e),this.updateRequestData())}function t(e){var t=this;if(e.ok)return e.json();e.json().then(function(e){if("UUID not match"==e.detail)return void t.UUIDDifferent(null);throw new Error(t.$t("Network response is not ok with detail ")+JSON.stringify(e.detail))}).catch(function(e){t.make_alert(t.$t("Error in refreshing data. ")+JSON.stringify(e),e),stopServerConnection&&t.stopServerByError()})}if(this.wrongProtocol(),null!=this.refreshTimeout&&clearTimeout(this.refreshTimeout),this.matchData.length>this.maxPlayedDataIndex+1)return void this.updateMatchData([]);var r=this.matchData.length;c.a.getState(this.serverURL,"after",r,-1,this.matchUUID,e.bind(this),t.bind(this),this.getFailFunc("Error in refreshing data. ",!0).bind(this))},updateRequestData:function(){function e(e){if(e&&JSON.stringify(this.requestData)!=JSON.stringify(e)){console.log("Request data",e);var t=this.requestData;this.requestData=e;var r=this.currentRequestPlayerId;if(null!=r){var a=t.filter(function(e){return e.player_idx==r}),i=e.filter(function(e){return e.player_idx==r});if(JSON.stringify(a)==JSON.stringify(i))return}this.updateMatch(),this.match.requests.length>0&&(this.selectedRequest=this.match.requests[0])}}c.a.getRequest(this.serverURL,-1,e.bind(this),this.getCheckFunc("Error in refreshing data. ",!0).bind(this),this.getFailFunc("Error in refreshing data. ",!0).bind(this))},showRequestDetails:function(e){this.selectedRequest=e},hideRequestDetails:function(){},selectRequest:function(e){var t=e.idx,r=this.$store.state.requests[t];if(r&&"UseSkillRequest"==r.name){var a=this.match.player_tables[r.player_idx],i=a.charactors[a.active_charactor_idx],s=i.skills[r.skill_idx];this.$store.commit("setSelectedObject",{type:"SKILL",skill_type:s.skill_type,charactor_name:i.name,name:s.name,desc:s.desc,version:i.version})}e.prediction&&(this.predictFullMatch=e.prediction),null!==t&&void 0!==t&&this.$store.commit("selectRequest",t)},selectClass:function(e,t){return"Confirm"==e?""!=this.$store.state.commandString?"select-highlight":"select-disabled":"Cancel"==e?null!=this.$store.state.selectedRequest||this.predictFullMatch?"select-highlight":"select-disabled":void 0===t||null===t?"select-disabled":this.$store.state.selectedRequest==t?"select-highlight":"select-none"},cancelSelection:function(){this.$store.commit("selectRequest",null),this.predictFullMatch=null},confirmSelection:function(){this.predictFullMatch=null,""!=this.$store.state.commandString&&(console.log("Command: "+this.$store.state.commandString),this.interactionInput=this.$store.state.commandString,this.sendInteraction())},clickCheckShowDeck:function(){function e(e){this.$store.commit("setDeck",e),this.$store.commit("setShowDeckDiv",!0)}if(this.wrongProtocol(),this.showDeckDiv){if(this.$store.state.deckModifyCounter>0){if(!confirm(this.$t("Deck is modified, are you sure to close it?")))return}return this.$store.commit("resetDeckModifyCounter",null),void this.$store.commit("setShowDeckDiv",!1)}this.$store.commit("resetDeckModifyCounter",null);var t="Error in getting deck. If this error occurs frequently, please try refreshing the page. Detail: ";c.a.getDecks(this.serverURL,e.bind(this),this.getCheckFunc(t).bind(this),this.getFailFunc(t).bind(this))},clickStartNewMatch:function(){function e(e){this.clearAllData(),this.refreshData()}(this.wrongProtocol(),confirm(this.$t("Are you sure to start a new match?")))&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=null,c.a.postReset(this.serverURL,{},e.bind(this),this.getCheckFunc("Error in reset game. ").bind(this),this.getFailFunc("Error in reset game. ").bind(this)))},resetByIndex:function(){function e(e){this.clearAllData(),this.refreshData()}var t=this.currentDataIndex;if(0==this.matchData[t].requests.length)return void alert(this.$t("No available action at current index! cannot reset to this index."));confirm(this.$tc("Are you sure to reset match to current index?",this.currentDataIndex))&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=null,c.a.postReset(this.serverURL,{match_state_idx:t},e.bind(this),this.getCheckFunc("Error in reset game. ").bind(this),this.getFailFunc("Error in reset game. ").bind(this)))},stopRefresh:function(){clearTimeout(this.refreshTimeout),this.refreshTimeout=null},imgSrcError:function(e){e.target.style.display="none";var t=e.target.nextElementSibling;t&&(t.style.display="flex")},imageAlt:function(e){var t=e.type;return"TALENT"==t&&(t=t+"_"+this.card.charactor_name),"Unknown"==e.name&&(t="CARD"),this.$t(t+"/"+this.$store.getters.getNameWithDesc(e))},updateImageWidth:function(e){if(navigator.userAgent.includes("Firefox")){var t=e.target,r=t.offsetWidth,a=t.offsetHeight;t.style.width=r+"px",t.style.height=a+"px"}}},computed:{isSelfPage:function(){return window.location.href.includes("zyr17.cn")},match:function(){if(!this.fullMatch||this.displayInJudgeMode||-1==this.playerTableOrder)return this.fullMatch;for(var e=JSON.parse(JSON.stringify(this.fullMatch)),t=e.player_tables[1-this.playerTableOrder],r=0;r<t.hands.length;r++)t.hands[r].name="Unknown",t.hands[r].desc="",t.hands[r].version="Unknown";for(var a=0;a<t.table_deck.length;a++)t.table_deck[a].name="Unknown",t.table_deck[a].desc="",t.table_deck[a].version="Unknown";for(var i=0;i<t.dice.colors.length;i++)t.dice.colors[i]="UNKNOWN";return e},predictMatch:function(){var e=this.predictFullMatch;if(!e||this.displayInJudgeMode||-1==this.playerTableOrder)return e;for(var t=JSON.parse(JSON.stringify(e)),r=t.player_tables[1-this.playerTableOrder],a=0;a<r.hands.length;a++)r.hands[a].name="Unknown",r.hands[a].desc="",r.hands[a].version="Unknown";for(var i=0;i<r.table_deck.length;i++)r.table_deck[i].name="Unknown",r.table_deck[i].desc="",r.table_deck[i].version="Unknown";for(var s=0;s<r.dice.colors.length;s++)r.dice.colors[s]="UNKNOWN";return t},sortedPlayerTables:function(){return-1==this.playerTableOrder?[]:1==this.playerTableOrder?this.match.player_tables:[this.match.player_tables[1],this.match.player_tables[0]]},sortedPredictPlayerTables:function(){return-1==this.playerTableOrder?[]:1==this.playerTableOrder?this.predictMatch.player_tables:[this.predictMatch.player_tables[1],this.predictMatch.player_tables[0]]},currentRequestPlayerId:function(){var e=this.match;return e&&e.requests&&0!==e.requests.length?this.displayInJudgeMode?e.requests[0].player_idx:this.playerTableOrder:null},currentRespondingPlayerId:function(){var e=this,t=this.match;return t&&t.requests&&0!==t.requests.length?!this.displayInJudgeMode&&t.requests.filter(function(t){return t.player_idx==e.playerTableOrder}).length>0?this.playerTableOrder:t.requests[0].player_idx:null},buttonRequests:function(){var e=this.$store.state.requests;e=e.filter(function(e){return"UseCardRequest"!==e.name});for(var t={},r=0;r<this.match.skill_predictions.length;r++){var a=this.match.skill_predictions[r];if(a.player_idx==this.currentRequestPlayerId){var i="UseSkill"+a.skill_idx,s=this.match.player_tables[a.player_idx].charactors[a.charactor_idx],n="SKILL_"+s.name+"_"+s.skills[a.skill_idx].skill_type+"/"+s.skills[a.skill_idx].name,o=a.diff,c=[{type:"FULL",match:this.fullMatch},{type:"DIFF",match_diff:o}];c=this.decodeDiffMatchData(c);for(var l=c[1].match,d=0;d<2;d++)l.player_tables[d].dice=this.fullMatch.player_tables[d].dice,l.player_tables[d].hands=this.fullMatch.player_tables[d].hands;for(var u={name:"Oceanic Mimic: Squirrel",version:"3.3",desc:"",usage:"",max_usage:"",damage_elemental_type:"HYDRO",damage:"",icon_type:"NONE"},h=0;h<l.player_tables.length;h++)for(var m=l.player_tables[h],v=this.fullMatch.player_tables[h],p=v.summons.length;p<m.summons.length;p++)"Oceanic Mimic: Squirrel"!=m.summons[p].name&&"Oceanic Mimic: Raptor"!=m.summons[p].name&&"Oceanic Mimic: Frog"!=m.summons[p].name||(m.summons[p]=u);t[i]={title:this.$t(n),prediction:l,cost:s.skills[a.skill_idx].cost}}}for(var f=0;f<e.length;f++){var _=e[f],g=_.name.replace("Request","");if("UseSkillRequest"==_.name){var y=_.skill_idx;t[g+y]=Object.assign({},t[g+y],_);var C=this.match.player_tables[_.player_idx].charactors[_.charactor_idx],b="SKILL_"+C.name+"_"+C.skills[y].skill_type+"/"+C.skills[y].name;t[g+y].title=this.$t(b)}else if("SwitchCharactorRequest"==_.name){var D=_.target_charactor_idx,k=this.match.player_tables[_.player_idx].charactors,S=k[D];if(_.title=this.$t("Switch To ")+this.$t("CHARACTOR/"+S.name),null!==this.$store.state.selectedRequest){var T=this.$store.state.requests[this.$store.state.selectedRequest];T.idx==_.idx&&(t.SwitchCharactor=_)}}else t[g]=_,_.title=this.$t({SwitchCard:"Switch Card",RerollDice:"Reroll Dice",ChooseCharactor:"Choose Charactor",ElementalTuning:"Elemental Tuning",DeclareRoundEnd:"Declare Round End"}[g])}return t},descData:function(){var e=this.$store.state.selectedObject;if(null===e)return[];if("Unknown"==e.name)return[];if("CHARACTOR"==e.type){for(var t=[{type:"CHARACTOR",name:e.name,desc:e.desc,version:e.version}],r=0;r<e.skills.length;r++){var a=e.skills[r];t.push({type:"SKILL_"+e.name+"_"+a.skill_type,skill_type:a.skill_type,name:a.name,desc:a.desc})}return t}if("TALENT"==e.type){return[{type:"TALENT_"+e.charactor_name,name:e.name,desc:e.desc,version:e.version}]}if("SKILL"==e.type){return[{type:"SKILL_"+e.charactor_name+"_"+e.skill_type,skill_type:e.skill_type,name:e.name,desc:e.desc,version:e.version}]}return[e]},isYourTurn:function(){return this.match.current_player==this.playerTableOrder},skillNotify:function(){if(!this.match)return null;if("USE_SKILL"!=this.match.last_action.type)return null;for(var e=this.match.last_action.skill_position,t=this.match.player_tables[e.player_idx].charactors[e.charactor_idx].skills,r=0;r<t.length;r++)if(t[r].id==e.id){var a=this.match.player_tables[e.player_idx].charactors[e.charactor_idx],i={player_id:e.player_idx,charactor_name:a.name,charactor_desc:a.desc,skill_type:t[r].skill_type,skill_name:t[r].name};return this.$store.commit("setSelectedObject",Object.assign({version:a.version,charactor_name:a.name},t[r])),i}return console.error("Cannot find skill"),null},cardNotify:function(){if(!this.match)return null;if("USE_CARD"!=this.match.last_action.type)return null;var e=this.match.last_action.card_position,t=this.match.player_tables[e.player_idx],r=t.hands,a={player_id:e.player_idx},i=r.slice();null!=t.using_hand&&i.push(t.using_hand);for(var s=0;s<i.length;s++)if(i[s].id==e.id){a=Object.assign({},a,i[s]);break}return null==a.name?(console.error("Cannot find card"),null):(this.$store.commit("setSelectedObject",a),a)},switchNotify:function(){if(!this.match)return null;if("SWITCH_CHARACTOR"!=this.match.last_action.type)return null;var e=this.match.player_tables[this.match.last_action.player_idx].charactors[this.match.last_action.charactor_idx];return this.$store.commit("setSelectedObject",e),{player_id:this.match.last_action.player_idx,charactor_name:e.name,charactor_desc:e.desc}},roundEndNotify:function(){return this.match?"DECLARE_ROUND_END"!=this.match.last_action.type?null:{player_id:this.match.last_action.player_idx}:null},waitOpponentNotify:function(){if(!this.match)return null;var e=this.match.requests.filter(function(e){return"RerollDiceRequest"==e.name||"SwitchCardRequest"==e.name||"ChooseCharactorRequest"==e.name}),t=this.currentRequestPlayerId;if(null==t)return null;var r=e.filter(function(e){return e.player_idx==t}),a=e.filter(function(e){return e.player_idx!=t});return 0==r.length&&a.length>0||null},showDeckDiv:function(){return this.$store.state.showDeckDiv},roomName:{get:function(){return this.$store.state.roomName},set:function(e){clearTimeout(this.refreshTimeout),this.refreshTimeout=null,this.serverConnected=!1,this.$store.commit("setRoomName",e)}},roomServerURL:{get:function(){return this.$store.state.roomServerURL},set:function(e){clearTimeout(this.refreshTimeout),this.refreshTimeout=null,this.serverConnected=!1,this.roomServerURLValue=e,this.$store.commit("setRoomServerURL",e)}},serverURL:{get:function(){return this.$store.state.serverURL},set:function(e){clearTimeout(this.refreshTimeout),this.refreshTimeout=null,this.serverConnected=!1,this.$store.commit("setServerURL",e)}},imageResourceURL:{get:function(){return this.$store.state.imageResourceURL},set:function(e){this.$store.commit("setImageResourceURL",e)}},serverConnected:{get:function(){return this.$store.state.serverConnected},set:function(e){this.$store.commit("setServerConnected",e)}},currentLanguage:{get:function(){return this.$store.state.frontendLanguage},set:function(e){this.$store.commit("setFrontendLanguage",e)}}}}},function(e,t,r){"use strict";var a=r(31),i=r(34),s=r(37),n=r(42);t.a={name:"PlayerTable",props:{playerTable:{type:Object,required:!0,validator:function(e){return"name"in e&&"player_name"in e&&"player_icon"in e&&"active_charactor_idx"in e&&"has_round_ended"in e&&"dice"in e&&"team_status"in e&&"charactors"in e&&"summons"in e&&"supports"in e&&"hands"in e&&"table_deck"in e}},show_table_deck:{type:Boolean,default:!1},is_reverse:{type:Boolean,default:!1}},data:function(){return{showDetailsFlag:!1,detailTextWidth:150,dataAttribute:""}},components:{Charactor:a.a,Summon:i.a,Card:s.a,Support:n.a},mounted:function(){this.dataAttribute=this.$el.dataset},methods:{imgSrcError:function(e){e.target.style.display="none";var t=e.target.nextElementSibling;t&&(t.style.display="flex")},log_data:function(){console.log("TABLE",JSON.parse(JSON.stringify(this.playerTable)))},log_dice:function(){console.log("DICE",JSON.parse(JSON.stringify(this.playerTable.dice)))},log_status:function(e){console.log("TEAM_STATUS",JSON.parse(JSON.stringify(this.playerTable.team_status[e])))},showDetails:function(e){this.showDetailsFlag=!0,this.detailData=e},hideDetails:function(){this.showDetailsFlag=!1},selectCardClass:function(e){if(null==this.$store.state.selectedRequest){for(var t=this.$store.state.requests,r=0;r<t.length;r++){var a=t[r];if("UseCardRequest"==a.name&&(a.card_idx==e&&a.player_idx==this.playerTable.player_idx))return"select-highlight"}return""}var i=this.$store.state.requests[this.$store.state.selectedRequest];if("UseSkillRequest"==i.name||"DeclareRoundEndRequest"==i.name)return"select-none";if("UseCardRequest"==i.name)return i.card_idx==e&&i.player_idx==this.playerTable.player_idx?"select-selected":"select-disabled";for(var s=this.$store.state.positions,n=this.playerTable.hands[e],o=0;o<this.$store.state.selectedPositions.length;o++){if(s[this.$store.state.selectedPositions[o]].id==n.id)return"select-selected"}for(var c=0;c<s.length;c++){if(s[c].id==n.id)return"select-highlight"}return"select-disabled"},selectCard:function(e){var t=this.playerTable.hands[e];{if(null!=this.$store.state.selectedRequest)return this.selectObject(t.position);for(var r=this.$store.state.requests,a=0;a<r.length;a++){var i=r[a];if("UseCardRequest"==i.name&&(i.card_idx==e&&i.player_idx==this.playerTable.player_idx))return void this.$store.commit("selectRequest",a)}}},selectObjectClass:function(e){var t=e.position;if(this.$store.state.damageNotify&&this.$store.state.damageNotify.position&&this.$store.state.damageNotify.position.id==t.id)return this.$store.commit("setSelectedObject",e),"select-selected";if(null==this.$store.state.selectedRequest)return"select-none";var r=this.$store.state.requests[this.$store.state.selectedRequest];if("UseSkillRequest"==r.name||"DeclareRoundEndRequest"==r.name)return"select-none";for(var a=this.$store.state.positions,i=this.$store.state.selectedPositions,s=0;s<i.length;s++){if(a[i[s]].id==t.id)return"select-selected"}for(var n=0;n<a.length;n++){if(a[n].id==t.id)return"select-highlight"}return"select-disabled"},selectObject:function(e){if(null!=this.$store.state.selectedRequest)for(var t=this.$store.state.positions,r=0;r<t.length;r++){var a=t[r];if(a.id==e.id)return void this.$store.commit("positionClick",r)}},selectMultiplePosition:function(e){null!=this.$store.state.selectedRequest&&this.$store.commit("positionClick",e)},selectCharactorClass:function(e){var t=e.position,r=t.charactor_idx;if(this.$store.state.damageNotify&&this.$store.state.damageNotify.position&&this.$store.state.damageNotify.position.player_idx==this.playerTable.player_idx&&this.$store.state.damageNotify.position.charactor_idx==r)return"select-selected";if(null==this.$store.state.selectedRequest){for(var a=this.$store.state.requests,i=0;i<a.length;i++){var s=a[i];if("SwitchCharactorRequest"==s.name&&(s.target_charactor_idx==r&&s.player_idx==this.playerTable.player_idx))return"select-highlight"}return"select-none"}var n=this.$store.state.requests[this.$store.state.selectedRequest];return"UseSkillRequest"==n.name||"DeclareRoundEndRequest"==n.name?"select-none":"SwitchCharactorRequest"==n.name?n.target_charactor_idx==r&&n.player_idx==this.playerTable.player_idx?"select-selected":"select-disabled":this.selectObjectClass(e)},selectCharactor:function(e){var t=e.charactor_idx;{if(null!=this.$store.state.selectedRequest)return this.selectObject(e);for(var r=this.$store.state.requests,a=0;a<r.length;a++){var i=r[a];if("SwitchCharactorRequest"==i.name&&(i.target_charactor_idx==t&&i.player_idx==this.playerTable.player_idx))return void this.$store.commit("selectRequest",a)}}},selectDiceClass:function(e){if(null==this.$store.state.selectedRequest)return"select-dice-none";if(this.$store.state.requests[this.$store.state.selectedRequest].player_idx!=this.playerTable.player_idx)return"select-dice-none";for(var t=this.$store.state.selectedDice,r=0;r<t.length;r++)if(e==t[r])return"select-dice-selected";return"select-dice-none"},selectDice:function(e){null!=this.$store.state.selectedRequest&&this.$store.state.requests[this.$store.state.selectedRequest].player_idx==this.playerTable.player_idx&&this.$store.commit("diceClick",e)},costDefaultSelector:function(){var e=this.$store.state.diceSelectionRule;if(e.player==this.playerTable.player_idx&&null!=e&&"none"!=e.mode){var t=this.sortedColors;if("any"!=e.mode){if("tune"==e.mode)return void this.$store.commit("diceClick",t[t.length-1].idx);var r=e.cost,a=[];if(r.same_dice_number>0){for(var i=99999,s=99999,n=!0,o=new Set,c=new Set,l=0;l<this.playerTable.charactors.length;l++){var d=this.playerTable.charactors[l];c.add(d.element)}for(var u=t.length-1;u>=0;u--){var h=t[u].color;if(!o.has(h)){o.add(h);for(var m=[],v=0,p=u;p>=0;p--)"OMNI"==t[p].color?(v+=1,m.push(t[p].idx)):t[p].color==h&&m.push(t[p].idx);if(!(m.length<r.same_dice_number)){var f=m.length-v;if("OMNI"!=h&&(v=Math.max(0,r.same_dice_number-f)),!(v>i)){var _=c.has(h);v<i?(a=m.slice(0,r.same_dice_number),i=v,s=f,n=_):_&&!n||(_||!n?f<s&&(a=m.slice(0,r.same_dice_number),i=v,s=f,n=_):(a=m.slice(0,r.same_dice_number),i=v,s=f,n=_))}}}}for(var g=0;g<a.length;g++)this.$store.commit("diceClick",a[g])}else{for(var y=t.length-1;y>=0&&r.elemental_dice_number!=a.length;y--){var C=t[y].color;C!=r.elemental_dice_color&&"OMNI"!=C||a.push(t[y].idx)}for(var b=t.length-1;b>=0&&r.any_dice_number+r.elemental_dice_number!=a.length;b--)-1==a.indexOf(t[b].idx)&&a.push(t[b].idx);for(var D=0;D<a.length;D++)this.$store.commit("diceClick",a[D])}}else{for(var k=["OMNI"],S=0;S<this.playerTable.charactors.length;S++){var T=this.playerTable.charactors[S];T.is_alive&&(k.push(T.element),"Maguu Kenki"==T.name&&k.push("CRYO"))}for(var R=0;R<t.length;R++){var A=t[R].color;-1==k.indexOf(A)&&this.$store.commit("diceClick",t[R].idx)}}}},disableDice:function(e){if(null==this.$store.state.selectedRequest)return"select-none";var t=this.$store.state.requests[this.$store.state.selectedRequest];return void 0==t?"select-none":this.$store.state.requests[this.$store.state.selectedRequest].player_idx!=this.playerTable.player_idx?"select-dice-disabled":"ElementalTuningRequest"==t.name&&t.dice_idxs&&-1==t.dice_idxs.indexOf(e)?"select-dice-disabled":"select-none"},status_path:function(e){var t=e.name,r=e.desc;return"OTHERS"!=e.icon_type&&(t=e.icon_type,r=""),this.$store.getters.getImagePath({type:"TEAM_STATUS",name:t,desc:r})},image_path:function(e,t){return this.$store.getters.getImagePath({type:e,name:t})}},computed:{tableClass:function(){return this.is_reverse?"player-table-reverse":"player-table-normal"},sortedColors:function(){var e=["OMNI"],t=this.playerTable.active_charactor_idx,r=this.playerTable.charactors.length;-1==t&&(t=0);for(var a=-1;a<r;a++){var i=this.playerTable.charactors[a];-1==a&&(i=this.playerTable.charactors[t]),i.is_alive&&(e.push(i.element),"Maguu Kenki"==i.name&&e.push("CRYO"))}for(var s=[],n=this.playerTable.dice.colors,o=0;o<e.length;o++){var c=e[o];if(e.indexOf(c)==o)for(var l=0;l<n.length;l++)n[l]==c&&s.push({idx:l,color:c})}for(var d=[],u={},h=0;h<n.length;h++){var m=this.playerTable.dice.colors[h];void 0==u[m]&&(u[m]=0),u[m]+=1,e.includes(m)||d.push({idx:h,color:m})}return d.sort(function(e,t){return u[t.color]-u[e.color]}),s.concat(d)},multiplePositionList:function(){if(null==this.$store.state.selectedRequest)return null;if(this.$store.state.requests[this.$store.state.selectedRequest].player_idx!=this.playerTable.player_idx)return null;if(0==this.$store.state.positions.length)return null;var e=this.$store.state.positions;if(e[0].positions){for(var t=[],r=0;r<e.length;r++){for(var a=e[r],i=[],s=0;s<a.positions.length;s++){var n=a.positions[s];i.push({charactor_idx:n.charactor_idx,charactor_name:this.playerTable.charactors[n.charactor_idx].name})}t.push(i)}return t}return null},watchSelectedRequest:function(){return this.$store.state.selectedRequest}},watch:{watchSelectedRequest:function(e,t){JSON.parse(JSON.stringify(e))!=JSON.parse(JSON.stringify(t))&&this.costDefaultSelector()}}}},function(e,t,r){"use strict";t.a={name:"Charactor",props:{charactor:{type:Object,required:!0},detailTextWidth:{type:Number,default:175},selectClass:{type:String,default:"select-none"}},data:function(){return{showDetailsFlag:!1,detailData:null,detailImgWidth:50,detailOffset:15}},mounted:function(){this.dataAttribute=this.$el.dataset},methods:{imgSrcError:function(e){e.target.style.display="none";var t=e.target.nextElementSibling;t&&(t.style.display="flex")},replaceImgWithText:function(e,t,r){var a=document.createTextNode(t),i=document.createElement("span");i.appendChild(a);var s=document.createElement("div");s.className=r,s.appendChild(i);for(var n in this.dataAttribute)s.setAttribute("data-"+n,""),i.setAttribute("data-"+n,"");e.target.parentNode.replaceChild(s,e.target)},log_data:function(){console.log("CHARACTOR",JSON.parse(JSON.stringify(this.charactor))),this.$store.commit("setSelectedObject",this.charactor)},log_object:function(e){console.log(e.type,JSON.parse(JSON.stringify(e)))},showDetails:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e=JSON.parse(JSON.stringify(e)),this.showDetailsFlag=!0,t&&(e.img_name=e.name),"TALENT"==e.type&&(e.type=e.type+"_"+e.charactor_name),this.detailData=e},hideDetails:function(){this.showDetailsFlag=!1},status_path:function(e){var t=e.name,r=e.desc;return"OTHERS"!=e.icon_type&&(t=e.icon_type,r=""),this.$store.getters.getImagePath({type:e.type,name:t,desc:r})},image_path:function(e,t,r){return this.$store.getters.getImagePath({type:e,name:t,desc:r})},detailDivStyle:function(e){var t=this.detailTextWidth,r=this.detailImgWidth,a=this.detailOffset,i=0;return"width: "+(i=e.img_name?t+r:t)+"%; left: "+(-i-a)+"%"}},computed:{damage_notify:function(){var e=this.$store.state.damageNotify;if(e&&e[this.charactor.position.player_idx]&&e[this.charactor.position.player_idx][this.charactor.position.charactor_idx]){for(var t=[],r=0;r<e[this.charactor.position.player_idx][this.charactor.position.charactor_idx].length;r++){var a=e[this.charactor.position.player_idx][this.charactor.position.charactor_idx][r];a=JSON.parse(JSON.stringify(a)),"HEAL"==a.type?a.damage="+"+a.damage:a.damage="-"+a.damage;var i={PYRO:"rgb(242, 121, 71)",CRYO:"rgb(111, 215, 225)",HYDRO:"rgb(95, 154, 227)",ELECTRO:"rgb(181, 123, 236)",ANEMO:"rgb(88, 220, 171)",GEO:"rgb(225, 169, 16)",DENDRO:"rgb(151, 200, 89)",PHYSICAL:"rgb(119, 106, 102)",HEAL:"rgb(80, 213, 103)",PIERCING:"rgb(119, 106, 102)"};a.color=i[a.type],t.push(a)}var s=["3vw","3vw","2.5vw","2vw","1.5vw","1vw","0.5vw"],n=t.length;n>6&&(n=6);for(var o=0;o<t.length;o++)t[o].font_size=s[n];return t}return[]}}}},function(e,t,r){"use strict";t.a={name:"Summon",props:{summon:{type:Object,required:!0,validator:function(e){return!0}},selectClass:{type:String,default:"select-none"}},mounted:function(){this.dataAttribute=this.$el.dataset},methods:{imgSrcError:function(e){e.target.style.display="none";var t=e.target.nextElementSibling;t&&(t.style.display="flex")},log_data:function(){console.log("SUMMON",JSON.parse(JSON.stringify(this.summon))),this.$store.commit("setSelectedObject",this.summon)},image_path:function(e,t,r){return this.$store.getters.getImagePath({type:e,name:t,desc:r,small_card:!0})}}}},function(e,t,r){"use strict";var a=r(2);t.a={name:"Card",components:{Cost:a.a},data:function(){return{dataAttribute:null}},computed:{image_link:function(){return this.$store.getters.getImagePath(this.card)},image_alt:function(){var e=this.card.type;return"TALENT"==e&&(e=e+"_"+this.card.charactor_name),"Unknown"==this.card.name&&(e="CARD"),this.$t(e+"/"+this.$store.getters.getNameWithDesc(this.card))}},props:{card:{type:Object,required:!0,validator:function(e){return!0}}},mounted:function(){this.dataAttribute=this.$el.dataset},methods:{imgSrcError:function(e){e.target.style.display="none";var t=e.target.nextElementSibling;t&&(t.style.display="flex")},log_data:function(){console.log("CARD",JSON.parse(JSON.stringify(this.card))),this.$store.commit("setSelectedObject",this.card)}}}},function(e,t,r){"use strict";t.a={name:"Cost",props:{cost:{required:!0,default:null},max_number:{type:Number,default:5},offset_left:{type:Number,default:0},offset_top:{type:Number,default:0},direction:{type:String,default:"column"},justify:{type:String,default:"flex-start"},cost_font_size:{type:Number,default:1.25}},data:function(){return{imgError:new Array(4).fill(0),dataAttribute:null,firstTime:!0}},mounted:function(){this.dataAttribute=this.$el.dataset},methods:{imgSrcError:function(e){var t=this;e.target.style.display="none";var r=e.target.nextElementSibling;r&&(r.style.display="flex"),setTimeout(function(){t.updateFontSize()},0)},updateFontSize:function(){for(var e=this.cost_font_size/1.25*3,t=e/3*.25,r=e/10,a=this.$el.querySelectorAll(".cost-text"),i=this.$el.querySelectorAll(".cost-text > span"),s=0;s<a.length;s++){var n=a[s],o=i[s];n.style.fontSize=e+"vw",n.style.webkitTextStrokeWidth=t+"vw",o.style.transform="translateY(-"+r+"vw)"}},costDivStyle:function(){var e={width:100/this.max_number+"%",height:100/this.max_number+"%",marginLeft:"-"+this.offset_left+"%",marginTop:"-"+this.offset_top+"%",marginBottom:this.offset_top+"%",marginRight:this.offset_left+"%"};return"column"==this.direction?e.width="100%":e.height="100%",e},image_path:function(e,t){return this.$store.getters.getImagePath({type:e,name:t})},imgDivStyle:function(e){var t="CHARGE"==e.type||"ARCANE_FULL"==e.type;return{width:(t?100:93.75)+"%","margin-left":t?"0%":"3.125%",height:"100%"}},spanDivStyle:function(){var e=this.cost_font_size/1.25;return{"font-size":this.cost_font_size+"vw","-webkit-text-stroke-width":e+"px"}}},computed:{cost_computed:function(){var e=this.cost,t=this.cost.original_value;t||(t=e);var r=[];return t.elemental_dice_number>0&&r.push({type:e.elemental_dice_color,value:e.elemental_dice_number,is_higher:e.elemental_dice_number>t.elemental_dice_number,is_lower:e.elemental_dice_number<t.elemental_dice_number}),t.same_dice_number>0&&r.push({type:"MATCHING",value:e.same_dice_number,is_higher:e.same_dice_number>t.same_dice_number,is_lower:e.same_dice_number<t.same_dice_number}),t.any_dice_number>0&&r.push({type:"UNALIGNED",value:e.any_dice_number,is_higher:e.any_dice_number>t.any_dice_number,is_lower:e.any_dice_number<t.any_dice_number}),t.charge>0&&r.push({type:"CHARGE",value:e.charge,is_higher:e.charge>t.charge,is_lower:e.charge<t.charge}),0==r.length&&r.push({type:"MATCHING",value:0,is_higher:!1,is_lower:!1}),t.arcane_legend&&r.push({type:"ARCANE_FULL"}),r}}}},function(e,t,r){"use strict";t.a={name:"Support",props:{support:{type:Object,required:!0,validator:function(e){return!0}},selectClass:{type:String,default:"select-none"}},methods:{imgSrcError:function(e){e.target.style.display="none";var t=e.target.nextElementSibling;t&&(t.style.display="flex")},log_data:function(){console.log("SUPPORT",JSON.parse(JSON.stringify(this.support))),this.$store.commit("setSelectedObject",this.support)},image_path:function(e,t,r){return this.$store.getters.getImagePath({type:e,name:t,desc:r,small_card:!0})}}}},function(e,t,r){"use strict";var a=r(2);t.a={name:"RequestDetails",components:{Cost:a.a},props:{selectedRequest:{type:Object,default:null}},methods:{log_data:function(){console.log("REQUEST",JSON.parse(JSON.stringify(this.selectedRequest)))}}}},function(e,t,r){"use strict";var a=r(2);t.a={name:"RequestDetails",components:{Cost:a.a},props:{title:{type:String,required:!0},cost:{type:Object,default:null},select_class:{type:String,default:"select-none"}}}},function(e,t,r){"use strict";var a=r(16);t.a={props:{playerIdx:Number,cardModifiable:Boolean,sortCards:{type:Boolean,default:!0}},data:function(){return{selectionMode:null,selectedVersion:null,receiveDeckCode:"",inputDeckCode:"",showDeckCodeDiv:!1,copyButtonText:"Copy Code",cardRealLength:0}},created:function(){this.selectedVersion=this.availableVersions[this.availableVersions.length-1]},methods:{imgSrcError:function(e){e.target.style.display="none";var t=e.target.nextElementSibling;t&&(t.style.display="flex")},imgLoadSuccess:function(e){e.target.style.display="block";var t=e.target.nextElementSibling;t&&(t.style.display="none")},getCardImageUrl:function(e){return this.$store.getters.getImagePath(e)},getFullName:function(e){var t=e.type,r=this.$store.getters.getNameWithDesc(e);return"TALENT"==t&&(t=t+"_"+e.charactor_name),t+"/"+r},rightClick:function(e){this.removeCard(e,!1)},removeCard:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(("Empty"!=e.name||"CARD"!=e.type)&&this.cardModifiable){var r=e.type,a=this.$store.getters.getNameWithDesc(e);if("TALENT"==r&&(r=r+"_"+e.charactor_name),t){if(!confirm(this.$t("Are you sure to remove ")+this.$t("CHARACTOR"==r?"charactor: ":"card: ")+this.$t(r+"/"+a)+this.$t("?")))return}"CHARACTOR"!=r&&(r="CARD"),this.$store.commit("addDeckModifyCounter",null),this.$store.commit("removeDeckCard",{player_id:this.playerIdx,type:r.toLowerCase()+"s",id:e.idx})}},selectCard:function(e){var t=this.$store.getters.findNearestVersion(e,this.selectedVersion,this.$i18n.messages["en-US"]);if(null==t){var r=e.split("/")[0];return void alert(this.$t("Version for ",{version:this.selectedVersion})+this.$t("CHARACTOR"==r?"charactor: ":"card: ")+this.$t(e)+this.$t(" not exist!"))}this.$store.commit("addDeckCard",{player_id:this.playerIdx,type:this.selectionMode,name:e,version:t}),this.$store.commit("addDeckModifyCounter",null)},showDetail:function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if("CARD"!=e||"Empty"!=t){if(r||(r=this.$store.getters.findNearestVersion(e+"/"+t,this.selectedVersion,this.$i18n.messages["en-US"])),null==r)return void this.$store.commit("setSelectedObject",null);var i={type:e,name:t,version:r};if(a&&(i=Object.assign({},i,a)),!i.skills&&"CHARACTOR"==i.type){var s=this.$i18n.messages["en-US"],n="SKILL_"+i.name+"_",o=[];for(var c in s)if(c.startsWith(n)){if(3!=c.split("/").length)continue;var l=c.split("/"),d=l[0],u=l[1],h=l[2];if(h!=i.version)continue;var m=d.replace(n,"");o.push({name:u,version:h,skill_type:m,desc:""})}o.sort(function(e,t){function r(e){return"NORMAL_ATTACK"==e?0:"ELEMENTAL_SKILL"==e?1:"ELEMENTAL_BURST"==e?2:"PASSIVE"==e?3:9}return r(e.skill_type)-r(t.skill_type)}),i.skills=o}this.$store.commit("setSelectedObject",i)}},getDeckString:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=["default_version:"+this.selectedVersion],r=!0,a=!1,i=void 0;try{for(var s,n=this.deck.charactors[Symbol.iterator]();!(r=(s=n.next()).done);r=!0){var o=s.value;t.push("charactor:"+o.name+"@"+o.version)}}catch(e){a=!0,i=e}finally{try{!r&&n.return&&n.return()}finally{if(a)throw i}}var c=!0,l=!1,d=void 0;try{for(var u,h=this.cards[Symbol.iterator]();!(c=(u=h.next()).done);c=!0){var m=u.value;"Empty"==m.name&&"CARD"==m.type||t.push(m.name+"@"+m.version)}}catch(e){l=!0,d=e}finally{try{!c&&h.return&&h.return()}finally{if(l)throw d}}if(!e)return t.join("\n");var v={},p=!0,f=!1,_=void 0;try{for(var g,y=t[Symbol.iterator]();!(p=(g=y.next()).done);p=!0){var C=g.value;C in v?v[C]+=1:v[C]=1}}catch(e){f=!0,_=e}finally{try{!p&&y.return&&y.return()}finally{if(f)throw _}}var b="",D=!0,k=!1,S=void 0;try{for(var T,R=t[Symbol.iterator]();!(D=(T=R.next()).done);D=!0){var A=T.value;0!=v[A]&&(1==v[A]?b+=A+"\n":b+=A+"*"+v[A]+"\n",v[A]=0)}}catch(e){k=!0,S=e}finally{try{!D&&R.return&&R.return()}finally{if(k)throw S}}return b},uploadDeck:function(){var e=this.getDeckString(!0);console.log("DECK STRING",e),this.uploadDeckData(e,"/deck")},useDeckCode:function(){var e=this;if(68!=this.inputDeckCode.length)return void alert(this.$t("Deck code length should be 68!"));try{var t=this.$store.getters.deckCodeToDeckStr(this.inputDeckCode,this.selectedVersion,!0),r=this.$store.getters.deckStrToDeckDict(t,this.$i18n.messages["en-US"],!0),a=r.charactors.filter(function(e){return null==e.version}).concat(r.cards.filter(function(e){return null==e.version}));r.charactors=r.charactors.filter(function(e){return null!=e.version}),r.cards=r.cards.filter(function(e){return null!=e.version});var i=JSON.parse(JSON.stringify(this.$store.state.deck));i[this.playerIdx]=r,this.$store.commit("setDeck",i);var s=this.$t("Deck code parsed successfully! Currently not uploaded to server, please upload manually.");a.length>0&&(s+=this.$t("\n\nWarning: the following cards/charactors are not available in selected version, they will be ignored:\n")+a.map(function(t){return e.$t(t.type+"/"+t.name)}).join(", ")),alert(s),this.showDeckCodeDiv=!1,this.$store.commit("addDeckModifyCounter",null)}catch(e){console.log(this.$t("Error in parsing deck code\n\n")+e)}},uploadDeckData:function(e,t,r){function i(e){"error"!=e&&(alert(this.$t("Deck uploaded successfully!")),this.$store.commit("resetDeckModifyCounter",null),r&&r())}function s(e){this.make_alert(this.$t(o)+e,e)}function n(e){var t=this;return e.ok?e.json():(e.json().then(function(e){throw new Error(t.$t("Network response is not ok with detail ")+e.detail)}).catch(function(e){t.make_alert(t.$t(o)+e,e)}),"error")}var o="Error in uploading deck. ";a.a.postBaseFunc(this.$store.state.serverURL+t,{deck_str:e,player_idx:this.playerIdx},i.bind(this),n.bind(this),s.bind(this))},make_alert:function(e,t){console.error(t),alert(e+this.$t("\n\nFind detail in console."))},clearCards:function(){if(this.cardModifiable){var e="Are you sure to remove all ";"CHARACTOR"==this.selectionMode?e+="charactors?":"CARD"==this.selectionMode?e+="cards?":e+="charactors and cards?";confirm(this.$t(e))&&this.$store.commit("removeDeckCards",{player_id:this.playerIdx,area:this.selectionMode?this.selectionMode:"ALL"})}},copyDeckCode:function(){var e=this;navigator.clipboard.writeText(this.receiveDeckCode).then(function(){e.copyButtonText="Copied!",setTimeout(function(){e.copyButtonText="Copy Code"},1e3)}).catch(function(e){console.error(e)})},showDeckCodeDivFunc:function(){try{var e=this.getDeckString();console.log(e),this.receiveDeckCode=this.$store.getters.deckStrToDeckCode(e),this.showDeckCodeDiv=!0,this.inputDeckCode=""}catch(e){throw alert(this.$t("Error in getting deck code. ")+e),e}},receiveDeckCodeFromServer:function(){var e=this;if(this.$store.state.deckModifyCounter>0)return void alert(this.$t("Current deck is modified and not uploaded, please upload the deck before getting the deck code!"));var t=new XMLHttpRequest;t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(e.receiveDeckCode=JSON.parse(t.responseText),e.showDeckCodeDiv=!0,e.inputDeckCode=""):alert(e.$t("Error in getting deck code. ")+t.responseText))},t.open("GET",this.$store.state.serverURL+"/deck_code/"+this.playerIdx,!0),t.send()}},computed:{deck:function(){return this.$store.state.deck[this.playerIdx]},charactors:function(){for(var e=[],t=0;t<this.deck.charactors.length;t++){var r=JSON.parse(JSON.stringify(this.deck.charactors[t]));r.idx=t,e.push(r)}return e},cards:function(){for(var e=this,t=[],r=0;r<this.deck.cards.length;r++){var a=JSON.parse(JSON.stringify(this.deck.cards[r]));a.idx=r,t.push(a)}if(this.sortCards){var i=this.$store.state;t.sort(function(t,r){var a=i.nameToId[e.getFullName(t)],s=i.nameToId[e.getFullName(r)];return void 0==a&&(a=999999),void 0==s&&(s=999999),a-s})}for(this.cardRealLength=t.length;t.length<30;)t.push({type:"CARD",name:"Empty",desc:"",version:"",idx:t.length});return t},deck_name:function(){return console.log(this.deck,this.$store.state.deck),this.deck.name},allCharactors:function(){return this.$store.getters.getNamesWithType("CHARACTOR")},allCards:function(){var e=["WEAPON","ARTIFACT","SUPPORT","ARCANE","CARD"],t=[],r=!0,a=!1,i=void 0;try{for(var s,n=this.deck.charactors[Symbol.iterator]();!(r=(s=n.next()).done);r=!0){var o=s.value,c=this.$store.getters.getNamesWithType("TALENT_"+o.name);t=t.concat(c)}}catch(e){a=!0,i=e}finally{try{!r&&n.return&&n.return()}finally{if(a)throw i}}var l=!0,d=!1,u=void 0;try{for(var h,m=e[Symbol.iterator]();!(l=(h=m.next()).done);l=!0){var v=h.value;t=t.concat(this.$store.getters.getNamesWithType(v))}}catch(e){d=!0,u=e}finally{try{!l&&m.return&&m.return()}finally{if(d)throw u}}return t=t.filter(function(e,t){return"CARD/Unknown"!=e})},selectCards:function(){return"CHARACTOR"==this.selectionMode?this.allCharactors:"CARD"==this.selectionMode?this.allCards:[]},availableVersions:function(){return this.$store.state.availableVersions}}}},function(e,t,r){"use strict";function a(e){p=e}function i(e,t,r,a){p&&(e+="?room="+p),fetch(e).then(function(e){return r(e)}).then(function(e){t(e)}).catch(function(e){a(e)})}function s(e,t,r,a,i){p&&(e+="?room="+p),fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return a(e)}).then(function(e){r(e)}).catch(function(e){i(e)})}function n(e,t,r,a){i(e+"/patch",t,r,a)}function o(e,t,r,a){i(e+"/deck_code_data",t,r,a)}function c(e,t,r,a){i(e+"/version",t,r,a)}function l(e,t,r,a,i){s(e+"/respond",t,r,a,i)}function d(e,t,r,a,s,n,o,c){var l=e+"/state/"+t+"/"+r+"/"+a;s&&(l+="?uuid="+s),i(l,n,o,c)}function u(e,t,r,a,s){i(e+"/request/"+t,r,a,s)}function h(e,t,r,a){i(e+"/decks",t,r,a)}function m(e,t,r,a,i){s(e+"/reset",t,r,a,i)}function v(e,t,r,a,i){s(e+"/room/"+t,{},r,a,i)}var p="";t.a={updateRoomName:a,getBaseFunc:i,postBaseFunc:s,getPatch:n,getDeckCodeData:o,getVersion:c,postRespond:l,getState:d,getRequest:u,getDecks:h,postReset:m,postRoomName:v}},function(e,t,r){"use strict";var a=r(2);t.a={name:"DescBlock",props:{desc:{required:!0},version:{required:!0},show_version:{type:Boolean,default:!1}},methods:{},computed:{name_with_desc:function(){return this.$store.getters.getNameWithDesc(this.desc)},title:function(){return this.$t(this.desc.type+"/"+this.name_with_desc)},skill_type:function(){return this.desc.skill_type?this.$t("SKILL_TYPE/"+this.desc.skill_type):null},detail:function(){return this.$t(this.desc.type+"/"+this.name_with_desc+"/"+this.version)},cost:function(){var e=this.desc.type+"/"+this.name_with_desc+"/"+this.version;return this.$store.state.descKeyToCost[e]}},components:{Cost:a.a}}},function(e,t,r){r(19),e.exports=r(24)},function(e,t,r){window.Promise||(window.Promise=r(20)),Object.assign=r(23)},,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(4),i=(r(5),r(25)),s=r(60),n=r(67),o=r(68);a.a.config.productionTip=!1,a.a.use(n.a);var c=new n.a(o.a);new a.a({el:"#app",store:s.a,i18n:c,render:function(e){return e(i.a)}})},function(e,t,r){"use strict";function a(e){r(26),r(27),r(28)}var i=r(6),s=r(59),n=r(0),o=a,c=n(i.a,s.a,!1,o,"data-v-2ec8daf2",null);t.a=c.exports},,function(e,t){},function(e,t){},function(e,t,r){"use strict";function a(e){r(30)}var i=r(7),s=r(45),n=r(0),o=a,c=n(i.a,s.a,!1,o,"data-v-390ecefd",null);t.a=c.exports},function(e,t){},function(e,t,r){"use strict";function a(e){r(32)}var i=r(8),s=r(33),n=r(0),o=a,c=n(i.a,s.a,!1,o,"data-v-06152456",null);t.a=c.exports},function(e,t){},function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{on:{click:e.log_data}},[r("div",{staticClass:"elements"},e._l(e.charactor.element_application,function(t,a){return r("div",{key:a,staticClass:"element"},[r("img",{attrs:{src:e.image_path("ELEMENT",t),width:"100%",height:"100%"},on:{error:function(t){return e.imgSrcError(t)}}}),e._v(" "),r("div",{class:"element-text element-text-"+t.toLowerCase()},[r("span",[e._v("")])])])}),0),e._v(" "),r("div",{class:(e.charactor.is_alive?"charactor ":"charactor-died ")+e.selectClass},[r("img",{staticClass:"charactor-image",attrs:{src:e.image_path("CHARACTOR",e.charactor.name,e.charactor.desc),alt:e.$t("CHARACTOR/"+e.charactor.name+(e.charactor.desc.length>0?"_":"")+e.charactor.desc)},on:{error:function(t){return e.imgSrcError(t)}}}),e._v(" "),r("div",{staticClass:"charactor-text"},[r("span",[e._v(e._s(e.$t("CHARACTOR/"+e.charactor.name+(e.charactor.desc.length>0?"_":"")+e.charactor.desc)))])]),e._v(" "),r("div",{staticClass:"charactor-hp"},[r("div",[r("img",{attrs:{src:e.image_path("ICON","HP"),width:"100%",heright:"100%"},on:{error:function(e){e.target.style.display="none"}}}),e._v(" "),r("div",{staticClass:"hp-span-div"},[r("span",{style:e.charactor.hp>9?"padding-right: 0.2vw;":""},[e._v(e._s(e.charactor.hp))])])])]),e._v(" "),r("div",{staticClass:"charactor-charge-back"},e._l(e.charactor.max_charge,function(t){return r("div",{key:t},[r("img",{attrs:{src:e.image_path("ICON","CHARGE_BACK"),width:"100%",height:"100%"},on:{error:function(t){return e.imgSrcError(t)}}}),e._v(" "),e._m(0,!0)])}),0),e._v(" "),r("div",{staticClass:"charactor-charge-front"},e._l(e.charactor.charge,function(t){return r("div",{key:t},[r("img",{attrs:{src:e.image_path("ICON","CHARGE_FRONT"),width:"100%",height:"100%"},on:{error:function(t){return e.imgSrcError(t)}}}),e._v(" "),e._m(1,!0)])}),0),e._v(" "),e.charactor.weapon?r("div",{staticClass:"charactor-weapon",on:{click:function(t){return e.log_object(e.charactor.weapon)},mouseover:function(t){return e.showDetails(e.charactor.weapon)},mouseout:function(t){return e.hideDetails()}}},[r("img",{attrs:{src:e.image_path("ICON","EQUIP_WEAPON"),width:"100%",height:"100%"},on:{error:function(t){return e.imgSrcError(t)}}}),e._v(" "),r("div",{staticClass:"equip-text"},[r("span",[e._v(e._s(e.$t("Equip Weapon Text")))])])]):e._e(),e._v(" "),e.charactor.artifact?r("div",{staticClass:"charactor-artifact",on:{click:function(t){return e.log_object(e.charactor.artifact)},mouseover:function(t){return e.showDetails(e.charactor.artifact)},mouseout:function(t){return e.hideDetails()}}},[r("img",{attrs:{src:e.image_path("ICON","EQUIP_ARTIFACT"),width:"100%",height:"100%"},on:{error:function(t){return e.imgSrcError(t)}}}),e._v(" "),r("div",{staticClass:"equip-text"},[r("span",[e._v(e._s(e.$t("Equip Artifact Text")))])])]):e._e(),e._v(" "),e.charactor.talent?r("div",{staticClass:"charactor-talent",on:{click:function(t){return e.log_object(e.charactor.talent)},mouseover:function(t){return e.showDetails(e.charactor.talent)},mouseout:function(t){return e.hideDetails()}}},[r("img",{attrs:{src:e.image_path("ICON","EQUIP_TALENT"),width:"100%",height:"100%"},on:{error:function(t){return e.imgSrcError(t)}}}),e._v(" "),r("div",{staticClass:"equip-text"},[r("span",[e._v(e._s(e.$t("Equip Talent Text")))])])]):e._e(),e._v(" "),e.showDetailsFlag?r("div",{staticClass:"charactor-details",style:e.detailDivStyle(e.detailData)},[r("div",{staticClass:"p-div",style:"width: "+e.detailTextWidth+"%"},[r("h4",[e._v(e._s(e.$t(e.detailData.type+"/"+e.$store.getters.getNameWithDesc(e.detailData))))]),e._v(" "),r("p",{staticStyle:{color:"#555","font-size":"0.65vw"}},[e._v(e._s(e.$t("Version: "))+e._s(e.detailData.version))]),e._v(" "),r("p",[e._v(e._s(e.$t(e.detailData.type+"/"+e.$store.getters.getNameWithDesc(e.detailData)+"/"+e.detailData.version)))])]),e._v(" "),e.detailData.img_name?r("div",{staticClass:"detail-img-div",style:"width: "+e.detailImgWidth+"%"},[r("img",{attrs:{src:e.image_path(e.detailData.type,e.detailData.img_name,e.detailData.desc),width:"100%",height:"100%"},on:{error:function(e){e.target.style.display="none"}}})]):e._e()]):e._e(),e._v(" "),e.damage_notify.length>0?r("div",{staticClass:"damage-notify-div"},e._l(e.damage_notify,function(t,a){return r("p",{key:a,style:{color:t.color,"font-size":t.font_size}},[e._v(e._s(t.damage))])}),0):e._e(),e._v(" "),r("div",{staticClass:"charactor-status-div"},e._l(e.charactor.status,function(t,a){return r("div",{key:a,on:{click:function(r){return e.log_object(t)},mouseover:function(r){return e.showDetails(t,!1)},mouseout:function(t){return e.hideDetails()}}},[r("img",{attrs:{src:e.status_path(t),width:"100%",height:"100%"},on:{error:function(t){return e.imgSrcError(t)}}}),e._v(" "),r("div",{class:"status-text status-text-"+t.icon_type.toLowerCase()},[r("span",[e._v(e._s("OTHERS"==t.icon_type?"?":""))])]),e._v(" "),r("div",{staticClass:"usage-span-div"},[t.usage&&t.usage>0?r("span",[e._v(e._s(t.usage))]):e._e()])])}),0)])])},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"charge-text-back"},[r("span",[e._v("")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"charge-text-front"},[r("span",[e._v("")])])}],s={render:a,staticRenderFns:i};t.a=s},function(e,t,r){"use strict";function a(e){r(35)}var i=r(9),s=r(36),n=r(0),o=a,c=n(i.a,s.a,!1,o,"data-v-1e5d1cb6",null);t.a=c.exports},function(e,t){},function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:"summon "+e.selectClass,on:{click:e.log_data}},[r("img",{staticClass:"main-img",attrs:{src:e.image_path("SUMMON",e.summon.name,e.summon.desc),alt:e.$t("SUMMON/"+e.summon.name)},on:{error:function(t){return e.imgSrcError(t)}}}),e._v(" "),r("div",{staticClass:"summon-text"},[r("span",[e._v(e._s(e.$t("SUMMON/"+e.summon.name)))])]),e._v(" "),r("div",{staticClass:"summon-usage-div"},[r("div",["NONE"!=e.summon.icon_type?r("img",{attrs:{src:e.image_path("ICON",e.summon.icon_type),alt:e.summon.icon_type,width:"100%",height:"100%"},on:{error:function(e){e.target.style.display="none"}}}):e._e(),e._v(" "),r("div",{staticClass:"span-div"},[r("span",[e._v(e._s(e.summon.usage))])])])]),e._v(" "),r("div",{staticClass:"damage-div"},[r("div",[r("img",{attrs:{src:e.image_path("ELEMENT",e.summon.damage_elemental_type),alt:e.summon.damage_elemental_type,width:"100%",height:"100%"},on:{error:function(t){return e.imgSrcError(t)}}}),e._v(" "),r("div",{class:"element-text element-text-"+e.summon.damage_elemental_type.toLowerCase()},[r("span",[e._v("")])]),e._v(" "),r("div",{staticClass:"span-div"},[r("span",[e._v(e._s("HEAL"==e.summon.damage_elemental_type?-e.summon.damage:e.summon.damage))])])])])])},i=[],s={render:a,staticRenderFns:i};t.a=s},function(e,t,r){"use strict";function a(e){r(38)}var i=r(10),s=r(41),n=r(0),o=a,c=n(i.a,s.a,!1,o,"data-v-39987489",null);t.a=c.exports},function(e,t){},function(e,t){},function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.cost?r("div",{staticClass:"cost-div",style:"flex-direction: "+e.direction+"; justify-content: "+e.justify+";"},e._l(e.cost_computed,function(t,a){return r("div",{key:a,style:e.costDivStyle()},[r("div",{style:e.imgDivStyle(t)},[r("img",{attrs:{src:e.image_path("DICE",t.type),alt:t.type,width:"100%",height:"100%"},on:{error:function(t){return e.imgSrcError(t)}}}),e._v(" "),r("div",{class:"cost-text cost-text-"+t.type.toLowerCase()},[r("span",[e._v("")])])]),e._v(" "),r("div",{staticClass:"cost-span-div",style:e.spanDivStyle()},[r("span",{class:{"cost-higher":t.is_higher,"cost-lower":t.is_lower}},[e._v(e._s(t.value))])])])}),0):e._e()},i=[],s={render:a,staticRenderFns:i};t.a=s},function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:{card:!0,"active-card":e.card.is_active},on:{click:e.log_data}},[r("img",{staticClass:"main-img",attrs:{src:e.image_link,alt:e.image_alt,width:"100%",height:"100%"},on:{error:function(t){return e.imgSrcError(t)}}}),e._v(" "),r("div",{staticClass:"card-text"},[r("span",[e._v(e._s(e.image_alt))])]),e._v(" "),"Unknown"!=e.card.name?r("div",{staticClass:"cost-outer-div"},[r("Cost",{attrs:{cost:e.card.cost,max_number:4.5,offset_left:10,offset_top:10,direction:"column"}})],1):e._e()])},i=[],s={render:a,staticRenderFns:i};t.a=s},function(e,t,r){"use strict";function a(e){r(43)}var i=r(12),s=r(44),n=r(0),o=a,c=n(i.a,s.a,!1,o,"data-v-7132b8ec",null);t.a=c.exports},function(e,t){},function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:"support "+e.selectClass,on:{click:e.log_data}},[r("img",{staticClass:"main-img",attrs:{src:e.image_path("SUPPORT",e.support.name,e.support.desc),alt:e.$t("SUPPORT/"+e.support.name)},on:{error:function(t){return e.imgSrcError(t)}}}),e._v(" "),r("div",{staticClass:"support-text"},[r("span",[e._v(e._s(e.$t("SUPPORT/"+e.support.name)))])]),e._v(" "),r("div",{staticClass:"support-usage-div"},[r("div",["NONE"!=e.support.icon_type?r("img",{attrs:{src:e.image_path("ICON",e.support.icon_type),alt:e.support.icon_type,width:"100%",height:"100%"},on:{error:function(e){e.target.style.display="none"}}}):e._e(),e._v(" "),r("div",{staticClass:"span-div"},[r("span",[e._v(e._s(e.support.usage))])])])])])},i=[],s={render:a,staticRenderFns:i};t.a=s},function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:e.tableClass,on:{click:e.log_data}},[r("div",{staticClass:"supports-charactors-summons"},[r("div",{staticClass:"supports"},e._l(e.playerTable.supports,function(t){return r("div",{key:t.id,on:{click:function(r){return e.selectObject(t.position)}}},[r("Support",{attrs:{support:t,"select-class":e.selectObjectClass(t)}})],1)}),0),e._v(" "),e.multiplePositionList?r("div",{staticClass:"multi-position"},[r("h4",[e._v("This action has multiple positions, please select below.")]),e._v(" "),r("p",[e._v("Charactor ID start from 0.")]),e._v(" "),r("div",{staticClass:"multi-position-choices"},e._l(e.multiplePositionList,function(t,a){return r("label",{key:a,attrs:{clsss:"multi-position-one-choice"}},[r("input",{attrs:{type:"radio",name:"multi-position-choice"},domProps:{value:a},on:{click:function(t){return e.selectMultiplePosition(a)}}}),e._v(" "),r("br"),e._v(" "),r("span",{staticClass:"multi-position-one-choice-title"},[e._v("From:")]),r("br"),e._v("\n          "+e._s(t[0].charactor_name)+":"+e._s(t[0].charactor_idx)),r("br"),e._v(" "),r("span",{staticClass:"multi-position-one-choice-title"},[e._v("To:")]),r("br"),e._v("\n          "+e._s(t[1].charactor_name)+":"+e._s(t[1].charactor_idx)),r("br")])}),0)]):r("div",{staticClass:"charactors"},e._l(e.playerTable.charactors,function(t,a){return r("div",{key:t.id,class:{"charactor-div":!0,"charactor-div-active":a==e.playerTable.active_charactor_idx},on:{click:function(r){return e.selectCharactor(t.position)}}},[e.playerTable.active_charactor_idx!=a!=e.is_reverse?r("div",{staticClass:"active-div",on:{click:function(e){e.stopPropagation()}}}):e._e(),e._v(" "),r("Charactor",{staticClass:"charactor-inner",attrs:{charactor:t,"select-class":e.selectCharactorClass(t),"detail-text-width":e.detailTextWidth}}),e._v(" "),e.playerTable.active_charactor_idx==a?r("div",{staticClass:"team-status-div"},e._l(e.playerTable.team_status,function(t,a){return r("div",{key:a,on:{mouseover:function(r){return e.showDetails(t)},mouseout:function(r){return e.hideDetails(t)},click:function(t){return e.log_status(a)}}},[r("img",{attrs:{src:e.status_path(t),width:"100%",height:"100%"},on:{error:function(t){return e.imgSrcError(t)}}}),e._v(" "),r("div",{class:"status-text status-text-"+t.icon_type.toLowerCase()},[r("span",[e._v(e._s("OTHERS"==t.icon_type?"?":""))])]),e._v(" "),r("div",{staticClass:"usage-span-div"},[t.usage&&t.usage>0?r("span",[e._v(e._s(t.usage))]):e._e()])])}),0):e._e(),e._v(" "),e.showDetailsFlag&&e.playerTable.active_charactor_idx==a?r("div",{class:"status-details"+(e.is_reverse?" status-details-reverse":""),style:"width: "+e.detailTextWidth+"%; left: -"+e.detailTextWidth+"%"},[r("div",{staticClass:"p-div"},[r("h4",[e._v(e._s(e.$t(e.detailData.type+"/"+e.$store.getters.getNameWithDesc(e.detailData))))]),e._v(" "),r("p",{staticStyle:{color:"#555","font-size":"0.65vw"}},[e._v(e._s(e.$t("Version: "))+e._s(e.detailData.version))]),e._v(" "),r("p",[e._v(e._s(e.$t(e.detailData.type+"/"+e.$store.getters.getNameWithDesc(e.detailData)+"/"+e.detailData.version)))])])]):e._e()],1)}),0),e._v(" "),r("div",{staticClass:"summons"},e._l(e.playerTable.summons,function(t){return r("div",{key:t.id,on:{click:function(r){return e.selectObject(t.position)}}},[r("Summon",{attrs:{summon:t,"select-class":e.selectObjectClass(t)}})],1)}),0),e._v(" "),r("div",{staticClass:"dice",on:{click:function(t){return e.log_dice()}}},e._l(e.sortedColors,function(t){return r("div",{key:t.idx,class:e.disableDice(t.idx),on:{click:function(r){return e.selectDice(t.idx)}}},[r("div",{class:"dice-select-border "+e.selectDiceClass(t.idx)}),e._v(" "),r("img",{staticClass:"cost-img",attrs:{src:e.image_path("DICE",t.color),alt:t.color},on:{error:function(t){return e.imgSrcError(t)}}}),e._v(" "),r("div",{class:"cost-text cost-text-"+t.color.toLowerCase()},[r("span",[e._v("")])]),e._v(" "),r("img",{staticClass:"element-img",attrs:{src:e.image_path("ELEMENT",t.color),alt:t.color},on:{error:function(e){e.target.style.display="none"}}})])}),0)]),e._v(" "),r("div",{staticClass:"player-info"},[r("div",{staticClass:"player-name"},[r("img",{staticClass:"player-icon",attrs:{src:e.image_path("AVATAR",e.playerTable.player_name)},on:{error:function(e){e.target.style.display="none"}}})]),e._v(" "),r("div",{staticClass:"round-ended-and-arcane"},[r("div",{staticClass:"round-ended"},[e.playerTable.has_round_ended?r("p",{staticStyle:{"font-weight":"bolder",color:"rgb(238, 105, 22)"}},[e._v(e._s(e.$t("Round has ended")))]):r("p",[e._v(e._s(e.$t("Round has not ended")))])]),e._v(" "),r("div",{staticClass:"arcane-legend"},[r("img",{attrs:{src:e.image_path("DICE","ARCANE_"+(e.playerTable.arcane_legend?"FULL":"EMPTY")),height:"100%"},on:{error:function(t){return e.imgSrcError(t)}}}),e._v(" "),r("div",{class:"text-arcane-"+(e.playerTable.arcane_legend?"full":"empty")},[r("span",[e._v("")])])])]),e._v(" "),e.show_table_deck?r("div",{staticClass:"table-deck"},e._l(e.playerTable.table_deck,function(e){return r("div",{key:e.id},[r("Card",{attrs:{card:e}})],1)}),0):r("div",{staticClass:"table-deck"},[r("div",{staticClass:"table-deck-back",style:e.is_reverse?"transform: rotate(180deg)":""},[e.playerTable.table_deck.length>10?r("div",{staticClass:"table-deck-back-1"},[r("img",{attrs:{src:e.image_path("CARD","Unknown")},on:{error:function(e){e.target.style.display="none"}}})]):e._e(),e._v(" "),e.playerTable.table_deck.length>0?r("div",{staticClass:"table-deck-back-2"},[r("img",{attrs:{src:e.image_path("CARD","Unknown")},on:{error:function(e){e.target.style.display="none"}}})]):e._e(),e._v(" "),e.playerTable.table_deck.length>20?r("div",{staticClass:"table-deck-back-3"},[r("img",{attrs:{src:e.image_path("CARD","Unknown")},on:{error:function(e){e.target.style.display="none"}}})]):e._e()]),e._v(" "),r("div",{class:"table-deck-pdiv"+(e.is_reverse?"-reverse":"")},[r("p",[e._v(e._s(e.playerTable.table_deck.length))])])]),e._v(" "),r("div",{staticClass:"hands"},e._l(e.playerTable.hands,function(t,a){return r("div",{key:t.id,class:e.selectCardClass(a),on:{click:function(t){return e.selectCard(a)}}},[r("Card",{staticClass:"active",attrs:{card:t}})],1)}),0)])])},i=[],s={render:a,staticRenderFns:i};t.a=s},function(e,t,r){"use strict";function a(e){r(47)}var i=r(13),s=r(48),n=r(0),o=a,c=n(i.a,s.a,!1,o,"data-v-20abc6e8",null);t.a=c.exports},function(e,t){},function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"request-details-root",on:{click:e.log_data}},[null!=e.selectedRequest?r("div",[r("span",[e._v("Player "+e._s(e.selectedRequest.player_idx)+": ")]),e._v(" "),r("span",[e._v(e._s(e.selectedRequest.name.replace("Request","")))]),e._v(" "),r("div",{staticClass:"cost-div"},[r("Cost",{attrs:{cost:e.selectedRequest.cost,max_number:4,direction:"row",justify:"center",cost_font_size:1}})],1)]):e._e()])},i=[],s={render:a,staticRenderFns:i};t.a=s},function(e,t,r){"use strict";function a(e){r(50)}var i=r(14),s=r(51),n=r(0),o=a,c=n(i.a,s.a,!1,o,"data-v-aefeedbc",null);t.a=c.exports},function(e,t){},function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"request-button-root"},[r("div",{class:e.select_class},[e._v("\n    "+e._s(e.title)+"\n    "),null!=e.cost?r("div",{staticClass:"cost-div"},[r("Cost",{attrs:{cost:e.cost,max_number:3,direction:"row",justify:"center"}})],1):e._e()])])},i=[],s={render:a,staticRenderFns:i};t.a=s},function(e,t,r){"use strict";function a(e){r(53)}var i=r(15),s=r(54),n=r(0),o=a,c=n(i.a,s.a,!1,o,null,null);t.a=c.exports},function(e,t){},function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"deck-component-container"},[e.showDeckCodeDiv?r("div",{staticClass:"deck-code-div"},[r("div",{staticClass:"input-group"},[r("label",[e._v(e._s(e.$t("Current Deck Code")))]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.receiveDeckCode,expression:"receiveDeckCode"}],attrs:{type:"text",readonly:""},domProps:{value:e.receiveDeckCode},on:{input:function(t){t.target.composing||(e.receiveDeckCode=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"input-group"},[r("label",[e._v(e._s(e.$t("Input Deck Code")))]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.inputDeckCode,expression:"inputDeckCode"}],attrs:{type:"text",disabled:!e.cardModifiable},domProps:{value:e.inputDeckCode},on:{input:function(t){t.target.composing||(e.inputDeckCode=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"button-group"},[r("button",{on:{click:e.copyDeckCode}},[e._v(e._s(e.$t(e.copyButtonText)))]),e._v(" "),r("button",{attrs:{disabled:!e.cardModifiable},on:{click:e.useDeckCode}},[e._v(e._s(e.$t("Use Code")))]),e._v(" "),r("button",{on:{click:function(t){e.showDeckCodeDiv=!1}}},[e._v(e._s(e.$t("Close")))])])]):e._e(),e._v(" "),e.showDeckCodeDiv?r("div",{staticClass:"overlay"}):e._e(),e._v(" "),r("div",{staticClass:"command-div"},[r("p",[e._v(e._s(e.$tc("Player :",e.playerIdx)))]),e._v(" "),r("p",[e._v(e._s(e.$t("Deck name:"))),r("br"),e._v(e._s(e.deck.name))]),e._v(" "),r("div",[e.cardModifiable?r("label",{staticStyle:{margin:"0"},attrs:{for:"versionDropdown"}},[e._v(e._s(e.$t("Version for added cards:")))]):e._e(),e._v(" "),e.cardModifiable?r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedVersion,expression:"selectedVersion"}],attrs:{id:"versionDropdown"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedVersion=t.target.multiple?r:r[0]}}},e._l(e.availableVersions,function(t){return r("option",{domProps:{value:t}},[e._v(e._s(t))])}),0):e._e()]),e._v(" "),e.cardModifiable?r("button",{attrs:{id:"add-charactor-button"},on:{click:function(t){e.selectionMode="CHARACTOR"}}},[e._v(e._s(e.$t("Add Charactor")))]):e._e(),e._v(" "),e.cardModifiable?r("button",{attrs:{id:"add-card-button"},on:{click:function(t){e.selectionMode="CARD"}}},[e._v(e._s(e.$t("Add Card")))]):e._e(),e._v(" "),e.cardModifiable?r("button",{attrs:{id:"cancel-button",disabled:!e.selectionMode},on:{click:function(t){e.selectionMode=null}}},[e._v(e._s(e.$t("Back")))]):e._e(),e._v(" "),e.cardModifiable&&null==e.selectionMode?r("button",{attrs:{id:"clear-button"},on:{click:e.clearCards}},[e._v(e._s(e.$t("Clear")))]):e._e(),e._v(" "),e.cardModifiable&&"CARD"==e.selectionMode?r("button",{attrs:{id:"clear-card-button"},on:{click:e.clearCards}},[e._v(e._s(e.$t("Clear")))]):e._e(),e._v(" "),e.cardModifiable&&"CHARACTOR"==e.selectionMode?r("button",{attrs:{id:"clear-charactor-button"},on:{click:e.clearCards}},[e._v(e._s(e.$t("Clear")))]):e._e(),e._v(" "),e.cardModifiable?r("button",{attrs:{id:"upload-deck-button"},on:{click:e.uploadDeck}},[e._v(e._s(e.$t("Upload Deck")))]):e._e(),e._v(" "),r("button",{attrs:{id:"deck-code-button"},on:{click:e.showDeckCodeDivFunc}},[e._v(e._s(e.$t("Deck Code")))])]),e._v(" "),e.selectionMode?r("div",{staticClass:"select-divs"},[r("div",{staticClass:"select-splitter-div"},[e._v(e._s(e.$t("Current"))+" "+e._s(e.$t("CARD"==e.selectionMode?"Cards":"Charactors"))+" * "+e._s("CARD"==e.selectionMode?e.cardRealLength:e.charactors.length))]),e._v(" "),"CHARACTOR"==e.selectionMode?r("div",{staticClass:"images-div images-select-div-left",staticStyle:{width:"15%"}},e._l(e.charactors,function(t,a){return r("div",{staticClass:"one-image-div",attrs:{alt:e.$t(e.getFullName(t))},on:{mousemove:function(r){return e.showDetail(t.type,t.name,t.version,t)},click:function(r){return e.removeCard(t)},contextmenu:function(r){return r.preventDefault(),e.rightClick(t)}}},[r("img",{attrs:{src:e.getCardImageUrl(Object.assign({},t,{scale:"140x"}))},on:{error:function(t){return e.imgSrcError(t)}}}),e._v(" "),r("div",{staticClass:"card-text"},[r("span",[e._v(e._s(e.$t(e.getFullName(t))))])]),e._v(" "),r("span",[e._v(e._s(t.version))])])}),0):r("div",{staticClass:"images-div images-select-div-left",staticStyle:{width:"40%"}},e._l(e.cards,function(t,a){return r("div",{staticClass:"one-image-div one-small-image-div",on:{click:function(r){return e.removeCard(t)},contextmenu:function(r){return r.preventDefault(),e.rightClick(t)},mousemove:function(r){return e.showDetail(t.type,t.name,t.version,t)}}},[r("img",{attrs:{src:e.getCardImageUrl(Object.assign({},t,{scale:"140x"})),alt:e.$t(e.getFullName(t))},on:{error:function(t){return e.imgSrcError(t)},load:function(t){return e.imgLoadSuccess(t)}}}),e._v(" "),r("div",{staticClass:"card-text"},[r("span",[e._v(e._s(e.$t(e.getFullName(t))))])]),e._v(" "),r("span",[e._v(e._s(t.version))])])}),0),e._v(" "),r("div",{staticClass:"select-splitter-div"},[e._v(e._s(e.$t("Available"))+" "+e._s(e.$t("CARD"==e.selectionMode?"Cards":"Charactors")))]),e._v(" "),r("div",{staticClass:"images-div images-select-div-right",style:"width: "+("CARD"==e.selectionMode?"50%":"75%")},e._l(e.selectCards,function(t,a){return r("div",{staticClass:"one-image-div one-small-image-div",on:{click:function(r){return e.selectCard(t)},mousemove:function(r){e.showDetail(t.split("/")[0],t.split("/")[1])}}},[r("img",{attrs:{src:e.getCardImageUrl({type:t.split("/")[0],name:t.split("/")[1],scale:"140x"}),alt:e.$t(t)},on:{error:function(t){return e.imgSrcError(t)}}}),e._v(" "),r("div",{staticClass:"card-text"},[r("span",[e._v(e._s(e.$t(t)))])])])}),0)]):r("div",{staticClass:"images-div"},[r("div",{staticClass:"splitter-div"},[e._v(e._s(e.$t("Charactors"))+" * "+e._s(e.charactors.length))]),e._v(" "),e._l(e.charactors,function(t,a){return r("div",{staticClass:"one-image-div",on:{click:function(r){return e.removeCard(t)},contextmenu:function(r){return r.preventDefault(),e.rightClick(t)},mousemove:function(r){return e.showDetail(t.type,t.name,t.version,t)}}},[r("img",{attrs:{src:e.getCardImageUrl(t),alt:e.$t(e.getFullName(t))},on:{error:function(t){return e.imgSrcError(t)}}}),e._v(" "),r("div",{staticClass:"card-text"},[r("span",[e._v(e._s(e.$t(e.getFullName(t))))])]),e._v(" "),r("span",[e._v(e._s(t.version))])])}),e._v(" "),r("div",{staticClass:"splitter-div"},[e._v(e._s(e.$t("Cards"))+" * "+e._s(e.cardRealLength))]),e._v(" "),e._l(e.cards,function(t,a){return r("div",{staticClass:"one-image-div",on:{mousemove:function(r){return e.showDetail(t.type,t.name,t.version,t)},click:function(r){return e.removeCard(t)},contextmenu:function(r){return r.preventDefault(),e.rightClick(t)}}},[r("img",{attrs:{src:e.getCardImageUrl(t),alt:e.$t(e.getFullName(t))},on:{error:function(t){return e.imgSrcError(t)},load:function(t){return e.imgLoadSuccess(t)}}}),e._v(" "),r("div",{staticClass:"card-text"},[r("span",[e._v(e._s(e.$t(e.getFullName(t))))])]),e._v(" "),r("span",[e._v(e._s(t.version))])])})],2)])},i=[],s={render:a,staticRenderFns:i};t.a=s},function(e,t,r){"use strict";function a(e){r(56)}var i=r(17),s=r(57),n=r(0),o=a,c=n(i.a,s.a,!1,o,"data-v-e6b0322c",null);t.a=c.exports},function(e,t){},function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"desc-block-div"},[r("h3",{attrs:{id:"title"}},[e._v(e._s(e.title))]),e._v(" "),e.show_version?r("p",{attrs:{id:"version-p"}},[e._v(e._s(e.$t("Version: "))+" "+e._s(e.version))]):e._e(),e._v(" "),e.skill_type?r("p",{attrs:{id:"skill-type-p"}},[e._v(e._s(e.skill_type))]):e._e(),e._v(" "),e.cost?r("Cost",{attrs:{id:"cost",cost:e.cost,direction:"row",justify:"flex-start",cost_font_size:.8}}):r("div",{attrs:{id:"no-cost-div"}}),e._v(" "),e.detail?r("p",{attrs:{id:"detail-p"}},[e._v(e._s(e.detail))]):e._e()],1)},i=[],s={render:a,staticRenderFns:i};t.a=s},function(e,t){e.exports={private:!0,name:"lpsim-frontend",productName:"lpsim-frontend",description:"Simple frontend for LPSim",version:"0.4.3.1",license:"MIT",scripts:{dev:"NODE_OPTIONS=--openssl-legacy-provider poi",windev:"poi",build:"NODE_OPTIONS=--openssl-legacy-provider poi build",winbuild:"poi build",report:"NODE_OPTIONS=--openssl-legacy-provider poi build --bundle-report",serve:"NODE_OPTIONS=--openssl-legacy-provider serve dist --single",test:"NODE_OPTIONS=--openssl-legacy-provider tyu"},author:{name:"zyr17",email:"jzjqz17@gmail.com"},dependencies:{"normalize.css":"^7.0.0","object-assign":"^4.1.1","promise-polyfill":"^6.0.2","vue-i18n":"8",vuex:"3"},devDependencies:{lodash:"^4.17.21",poi:"^9.0.0","poi-preset-bundle-report":"^2.0.0",serve:"^6.1.0",tyu:"^1.0.4"}}},function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"header-div-container",style:e.showDebug?"padding-bottom: 16rem":""},[e.showDebug?r("div",{staticClass:"header-div"},[r("div",{staticClass:"interaction-div"},[r("div",{staticStyle:{height:"60%",padding:"5%"}},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.interactionInput,expression:"interactionInput"}],attrs:{disabled:e.processing||!this.displayInJudgeMode},domProps:{value:e.interactionInput},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.sendInteraction.apply(null,arguments))},input:function(t){t.target.composing||(e.interactionInput=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"interaction-button-group"},[r("button",{attrs:{disabled:e.processing},on:{click:e.sendInteraction}},[e._v(e._s(e.$t("Send")))]),e._v(" "),r("button",{attrs:{disabled:e.processing},on:{click:e.refreshData}},[e._v(e._s(e.$t("Refresh")))])])]),e._v(" "),r("div",{staticClass:"requests-div"},[null!=e.match?r("ul",e._l(e.match.requests.filter(function(t){return t.player_idx===e.currentRequestPlayerId}),function(t,a){return r("li",{key:a,on:{mouseover:function(r){return e.showRequestDetails(t)},mouseout:function(t){return e.hideRequestDetails()},click:function(r){return e.logRequest(t)}}},[e._v("\n            "+e._s(t.name.replace("Request",""))+"\n          ")])}),0):e._e()]),e._v(" "),r("div",{staticClass:"request-details"},[r("RequestDetails",{attrs:{selectedRequest:e.selectedRequest}})],1),e._v(" "),r("div",{staticClass:"text-div"},[r("h4",[e._v(e._s(e.$t("Upload replay file:")))]),e._v(" "),r("input",{ref:"fileInput",staticStyle:{"font-size":"0.8vw"},attrs:{type:"file",disabled:e.processing},on:{change:e.handleFileSelect}})]),e._v(" "),r("div",{staticClass:"server-url-div"},[r("label",{attrs:{for:"server-url"}},[e._v(e._s(e.$t("Server URL:")))]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.serverURL,expression:"serverURL"}],attrs:{id:"server-url",type:"text"},domProps:{value:e.serverURL},on:{input:function(t){t.target.composing||(e.serverURL=t.target.value)}}}),e._v(" "),r("button",{style:e.serverConnected?"":"background-color: #ffa500",attrs:{id:"connect-server-button",disabled:-1==e.playerTableOrder},on:{click:e.connectServer}},[e._v(e._s(e.$t(e.serverConnected?"Connected":"Connect")))])])]):e._e(),e._v(" "),r("div",{staticClass:"header-div",style:e.showDebug?"top: 8rem;":""},[r("div",{staticClass:"deck-start-div"},[r("button",{attrs:{id:"check-show-deck",disabled:-1==e.playerTableOrder||!e.serverConnected},on:{click:e.clickCheckShowDeck}},[e._v(e._s(e.$t("Check/Set Deck")))]),e._v(" "),r("button",{attrs:{id:"start-new-match",disabled:-1==e.playerTableOrder||!e.serverConnected},on:{click:e.clickStartNewMatch}},[e._v(e._s(e.$t("Start New Match")))]),e._v(" "),r("button",{attrs:{disabled:-1==e.playerTableOrder||0===e.matchData.length||!e.serverConnected},on:{click:function(t){return e.resetByIndex()}}},[e._v(e._s(e.$t("Reset Match to This Index")))])]),e._v(" "),r("div",{staticClass:"radios-div"},[r("p",[e._v(e._s(e.$t("Display Mode:")))]),e._v(" "),r("div",{staticClass:"judge-mode-div"},[r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.displayInJudgeMode,expression:"displayInJudgeMode"}],attrs:{type:"radio"},domProps:{value:!0,checked:e._q(e.displayInJudgeMode,!0)},on:{click:function(t){return e.updateMatch(void 0,!0,null)},change:function(t){e.displayInJudgeMode=!0}}}),e._v("\n            "+e._s(e.$t("Judge Mode (show information of all players)"))+"\n          ")]),e._v(" "),r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.displayInJudgeMode,expression:"displayInJudgeMode"}],attrs:{type:"radio"},domProps:{value:!1,checked:e._q(e.displayInJudgeMode,!1)},on:{click:function(t){return e.updateMatch(void 0,!1,null)},change:function(t){e.displayInJudgeMode=!1}}}),e._v("\n            "+e._s(e.$t("Play Mode (show information only current player)"))+"\n          ")])]),e._v(" "),r("p",{style:-1==e.playerTableOrder?"color: red":""},[e._v(e._s(e.$t("View point:")))]),e._v(" "),r("div",{staticClass:"player-table-order",style:-1==e.playerTableOrder?"color: red":""},e._l([0,1],function(t){return r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.playerTableOrder,expression:"playerTableOrder"}],attrs:{type:"radio"},domProps:{value:t,checked:e._q(e.playerTableOrder,t)},on:{click:function(r){return e.updateMatch(void 0,null,t)},change:function(r){e.playerTableOrder=t}}}),e._v("\n            "+e._s(e.$tc("Player :",t))+e._s(e.match?e.match.player_tables[t].player_name:"")+"\n          ")])}),0)]),e._v(" "),r("div",{staticClass:"main-info-div"},[-1==e.playerTableOrder?r("div",[r("div",{staticClass:"round-div",staticStyle:{"font-weight":"bold","font-size":"2vw"}},[e._v("\n            "+e._s(e.$t("Please select view point."))+"\n          ")])]):e._e(),e._v(" "),-1==e.playerTableOrder||e.serverConnected?e._e():r("div",[r("div",{staticClass:"round-div",staticStyle:{"font-weight":"bold","font-size":"1.5vw"}},[e._v("\n            "+e._s(e.$t("Please connect server."))+"\n          ")])]),e._v(" "),null==e.match&&-1!=e.playerTableOrder&&e.serverConnected?r("div",[r("div",{staticClass:"round-div",staticStyle:{"font-weight":"bold","font-size":"1.5vw"}},[e._v("\n            "+e._s(e.$t("No Match Data."))),r("br"),e._v(e._s(e.$t("Refresh or load replay in debug."))+"\n          ")])]):e._e(),e._v(" "),null!=e.match&&-1!=e.playerTableOrder?r("div",[r("div",{staticClass:"round-div",staticStyle:{"font-weight":"bold","font-size":"2vw"}},[e._v("\n            "+e._s(e.$tc("Round ",e.match.round_number))+"\n          ")])]):e._e(),e._v(" "),null!=e.match&&-1!=e.playerTableOrder?r("div",[r("div",{staticClass:"match-state-div"},[e._v("\n            "+e._s(e.$t("Current Match State: "))+e._s(e.$t("MATCHSTATE/"+e.match.state))+"\n          ")])]):e._e(),e._v(" "),null!=e.match&&-1!=e.playerTableOrder&&e.serverConnected?r("div",{staticStyle:{"font-size":"1vw"}},[e.isYourTurn?r("div",{staticClass:"your-turn-div",staticStyle:{"font-weight":"bold"}},[e._v("\n            "+e._s(e.$t("Current is Your Turn"))+"\n          ")]):r("div",{staticClass:"your-turn-div"},[e._v("\n            "+e._s(e.$t("Current is Not Your Turn"))+"\n          ")])]):e._e()]),e._v(" "),r("div",{staticClass:"buttons-div"},[r("div",{staticClass:"data-navigation"},[r("div",{staticClass:"data-navigation-first"},[r("div",{staticClass:"step-count"},[r("label",{attrs:{for:"step-count-input"}},[e._v(e._s(e.$t("Step count:")))]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.stepCount,expression:"stepCount"}],attrs:{id:"step-count-input",type:"number",min:"1",max:"1000"},domProps:{value:e.stepCount},on:{input:function(t){t.target.composing||(e.stepCount=t.target.value)}}})]),e._v(" "),r("button",{attrs:{disabled:0===e.currentDataIndex||0===e.matchData.length},on:{click:e.showPrevData}},[e._v(e._s(e.$t("Prev")))]),e._v(" "),r("button",{attrs:{disabled:e.currentDataIndex===e.matchData.length-1||0===e.matchData.length},on:{click:e.showNextData}},[e._v(e._s(e.$t("Next")))])]),e._v(" "),r("div",{staticClass:"data-navigation-second"},[r("div",{staticClass:"current-step"},[r("label",{attrs:{for:"current-step-input"}},[e._v(e._s(e.$t("Current step:")))]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.currentDataIndex,expression:"currentDataIndex"}],attrs:{id:"current-step-input",type:"number",min:"0",max:e.matchData.length-1},domProps:{value:e.currentDataIndex},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.jumpToData.apply(null,arguments)},input:function(t){t.target.composing||(e.currentDataIndex=t.target.value)}}})]),e._v(" "),r("button",{attrs:{disabled:0===e.matchData.length},on:{click:e.jumpToData}},[e._v(e._s(e.$t("Jump")))]),e._v(" "),r("button",{staticStyle:{"background-color":"#ffa500"},attrs:{disabled:!e.matchData||0===e.matchData.length||e.currentDataIndex==e.matchData.length-1},on:{click:e.jumpToEndData}},[e._v(e._s(e.$t("Jump to End")))])])])]),e._v(" "),r("div",{staticClass:"debug-refresh-freq-div"},[r("div",{staticClass:"freq-div"},[r("label",{class:e.refreshInterval<300?"freq-label-warning":"",attrs:{for:"refresh-frequency"}},[e._v(e._s(e.$t("Auto Refresh frequency (ms):")))]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.refreshInterval,expression:"refreshInterval"}],attrs:{id:"refresh-frequency",type:"number",min:"1"},domProps:{value:e.refreshInterval},on:{input:function(t){t.target.composing||(e.refreshInterval=t.target.value)}}}),e._v(" "),r("button",{class:e.refreshTimeout?"":"blink-refresh-button",attrs:{disabled:!e.serverConnected||-1==e.playerTableOrder},on:{click:function(t){e.refreshTimeout?e.stopRefresh():e.refreshData()}}},[e._v(e._s(e.$t(e.refreshTimeout?"Stop Refresh":"Start Refresh")))])]),e._v(" "),r("div",{staticClass:"refresh-debug-div"},[r("button",{on:{click:function(t){return e.changeLanguage()}}},[e._v("Language")]),e._v(" "),r("button",{on:{click:function(t){e.showDebug=!e.showDebug}}},[e._v(e._s(e.$t("Toggle Debug")))])])])])]),e._v(" "),e.showDeckDiv?r("div",{staticClass:"deck-container"},[r("div",{staticClass:"desc-container"},e._l(e.descData,function(t,a){return r("DescBlock",{key:a,attrs:{desc:t,version:e.descData[0].version,show_version:0==a}})}),1),e._v(" "),r("div",{staticClass:"deck-container-inner"},[r("Deck",{attrs:{"player-idx":1-e.playerTableOrder,"card-modifiable":e.displayInJudgeMode}}),e._v(" "),r("Deck",{attrs:{"player-idx":e.playerTableOrder,"card-modifiable":!0}})],1)]):e._e(),e._v(" "),null==e.match||e.showDeckDiv?e._e():r("div",{staticClass:"match-container"},[r("div",{staticClass:"desc-container"},e._l(e.descData,function(t,a){return r("DescBlock",{key:a,attrs:{desc:t,version:e.descData[0].version,show_version:0==a}})}),1),e._v(" "),e.predictMatch?r("div",{staticClass:"player-tables-container prediction-container"},e._l(e.sortedPredictPlayerTables,function(t,a){return r("div",{key:a,staticClass:"player-tables",style:"top: "+(1==a?"50%":"0")},[r("PlayerTable",{class:{"table-current-player":e.match.current_player==t.player_idx,"table-current-request":e.currentRespondingPlayerId==t.player_idx},attrs:{playerTable:t,is_reverse:0==a}})],1)}),0):r("div",{staticClass:"player-tables-container"},e._l(e.sortedPlayerTables,function(t,a){return r("div",{key:a,staticClass:"player-tables",style:"top: "+(1==a?"50%":"0")},[r("PlayerTable",{class:{"table-current-player":e.match.current_player==t.player_idx,"table-current-request":e.currentRespondingPlayerId==t.player_idx},attrs:{playerTable:t,is_reverse:0==a}})],1)}),0),e._v(" "),e.switchNotify?r("div",{class:{"switch-notify-container":!0,"notify-right-part":e.switchNotify.player_id!=e.playerTableOrder}},[r("div",{class:{"opponent-shadow-color":e.switchNotify.player_id!=e.playerTableOrder}},[r("img",{attrs:{src:e.$store.getters.getImagePath({type:"AVATAR",name:e.switchNotify.charactor_name,desc:e.switchNotify.charactor_desc})},on:{load:function(t){return e.updateImageWidth(t)},error:function(e){e.target.style.display="none"}}}),e._v(" "),r("div",[r("p",[e._v(e._s(e.$t("Switch to"))+" "+e._s(e.$t("CHARACTOR/"+e.$store.getters.getNameWithDesc({name:e.switchNotify.charactor_name,desc:e.switchNotify.charactor_desc}))))])])])]):e._e(),e._v(" "),e.skillNotify?r("div",{class:{"skill-notify-container":!0,"notify-right-part":e.skillNotify.player_id!=e.playerTableOrder}},[r("div",{class:{"opponent-shadow-color":e.skillNotify.player_id!=e.playerTableOrder}},[r("img",{attrs:{src:e.$store.getters.getImagePath({type:"AVATAR",name:e.skillNotify.charactor_name,desc:e.skillNotify.charactor_desc})},on:{load:function(t){return e.updateImageWidth(t)},error:function(e){e.target.style.display="none"}}}),e._v(" "),r("div",[r("p",[e._v(e._s(e.$t("CHARACTOR/"+e.$store.getters.getNameWithDesc({name:e.skillNotify.charactor_name,desc:e.skillNotify.charactor_desc})))+" "+e._s(e.$t("used"))+" "+e._s(e.$t("SKILL_TYPE/"+e.skillNotify.skill_type)))]),e._v(" "),r("p",[e._v(e._s(e.$t("SKILL_"+e.skillNotify.charactor_name+"_"+e.skillNotify.skill_type+"/"+e.skillNotify.skill_name)))])])])]):e._e(),e._v(" "),e.cardNotify?r("div",{class:{"card-notify-container":!0,"notify-right-part":e.cardNotify.player_id!=e.playerTableOrder}},[r("img",{class:{"opponent-shadow-color":e.cardNotify.player_id!=e.playerTableOrder},attrs:{src:e.$store.getters.getImagePath(e.cardNotify)},on:{error:function(t){return e.imgSrcError(t)}}}),e._v(" "),r("div",{staticClass:"card-notify-text"},[r("span",[e._v(e._s(e.imageAlt(e.cardNotify)))])])]):e._e(),e._v(" "),e.roundEndNotify?r("div",{class:{"center-text-notify-container":!0,"opponent-shadow-color":e.roundEndNotify.player_id!=e.playerTableOrder}},[r("span",[e._v(e._s(e.$t((e.roundEndNotify.player_id!=e.playerTableOrder?"Opponent":"You")+" declare round end")))])]):e._e(),e._v(" "),e.waitOpponentNotify?r("div",{class:{"center-text-notify-container":!0,"opponent-shadow-color":!0}},[r("span",{staticStyle:{"font-size":"1.25vw"}},[e._v(e._s(e.$t("Waiting for opponent action. Current state is initial state, state will update until both players have done actions.")))])]):e._e(),e._v(" "),-1!=e.match.winner?r("div",{class:{"center-text-notify-container":!0,"opponent-shadow-color":e.match.winner!=e.playerTableOrder}},[r("span",[e._v(e._s(e.$t("Game End"))+" "+e._s(e.$t((e.match.winner!=e.playerTableOrder?"Opponent":"You")+" win")))])]):e._e(),e._v(" "),e.predictFullMatch?r("div",{staticClass:"prediction-notify-container"},e._l(15,function(t){return r("div",[r("span",[e._v(e._s(e.$t("Skill Prediction")))])])}),0):e._e(),e._v(" "),r("div",{staticClass:"requests-button-container"},[r("div",{staticClass:"prev-buttons"},e._l(e.buttonRequests,function(t,a){return"DeclareRoundEnd"!=a&&"SwitchCharactor"!=a?r("div",{key:a,on:{click:function(r){return e.selectRequest(t)}}},[r("RequestButton",{attrs:{title:t.title,cost:t.cost,select_class:e.selectClass(t.title,t.idx)}})],1):e._e()}),0),e._v(" "),r("div",{staticClass:"last-buttons"},[e.buttonRequests.SwitchCharactor?r("div",{on:{click:function(t){return e.selectRequest(e.buttonRequests.SwitchCharactor)}}},[r("RequestButton",{attrs:{title:e.buttonRequests.SwitchCharactor.title,cost:e.buttonRequests.SwitchCharactor.cost,select_class:e.selectClass("Switch Charactor",e.buttonRequests.SwitchCharactor.idx)}})],1):e._e(),e._v(" "),!e.buttonRequests.SwitchCharactor&&e.buttonRequests.DeclareRoundEnd?r("div",{on:{click:function(t){return e.selectRequest(e.buttonRequests.DeclareRoundEnd)}}},[r("RequestButton",{attrs:{title:e.$t("Declare Round End"),select_class:e.selectClass("Declare Round End",e.buttonRequests.DeclareRoundEnd.idx)}})],1):e._e(),e._v(" "),r("div",{on:{click:e.confirmSelection}},[r("RequestButton",{attrs:{title:e.$t("Confirm"),select_class:e.selectClass("Confirm")}})],1),e._v(" "),r("div",{on:{click:e.cancelSelection}},[r("RequestButton",{attrs:{title:e.$t("Cancel"),select_class:e.selectClass("Cancel")}})],1)])])]),e._v(" "),null!=e.match||e.showDeckDiv?e._e():r("div",{staticClass:"empty-container"}),e._v(" "),e.showOverlay?r("div",{attrs:{id:"overlay"}},[r("div",{staticStyle:{"background-color":"white",padding:"20px"},attrs:{id:"overlay-content"}},[r("h2",[e._v(e._s(e.$t("LPSim frontend")))]),e._v(" "),r("div",{staticClass:"overlay-content-div"},[r("label",{attrs:{for:"server-url-overlay"}},[e._v(e._s(e.$t("Server URL:")))]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.roomServerURL,expression:"roomServerURL"}],attrs:{id:"server-url-overlay",type:"text"},domProps:{value:e.roomServerURL},on:{input:function(t){t.target.composing||(e.roomServerURL=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"overlay-content-div"},[r("label",{attrs:{for:"room-name-overlay"}},[e._v(e._s(e.$t("Room name:")))]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.roomName,expression:"roomName"}],attrs:{id:"room-name-overlay",type:"text"},domProps:{value:e.roomName},on:{input:function(t){t.target.composing||(e.roomName=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"player-table-order"},[r("p",[e._v(e._s(e.$t("View point:")))]),e._v(" "),e._l([0,1],function(t){return r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.playerTableOrder,expression:"playerTableOrder"}],attrs:{type:"radio"},domProps:{value:t,checked:e._q(e.playerTableOrder,t)},on:{change:function(r){e.playerTableOrder=t}}}),e._v("\n          "+e._s(e.$tc("Player",t))+e._s(e.match?e.match.player_tables[t].player_name:"")+"\n        ")])})],2),e._v(" "),r("div",{staticClass:"overlay-button-div"},[r("button",{attrs:{disabled:-1==e.playerTableOrder},on:{click:e.overlayConnectServer}},[e._v(e._s(e.$t("Connect")))]),e._v(" "),r("button",{on:{click:function(t){return e.changeLanguage()}}},[e._v("Language")])]),e._v(" "),r("div",{staticClass:"overlay-desc-div"},[r("h3",[e._v(e._s(e.$t("Note")))]),e._v(" "),r("p",[r("strong",{staticClass:"important-strong"},[e._v(e._s(e.$t("Frontend cannot run independently")))]),e._v(e._s(e.$t("Frontend cannot run independently description")))]),e._v(" "),r("p",[r("strong",[e._v(e._s(e.$t("Server URL:")))]),e._v(e._s(e.$t("Server URL Hint")))]),e._v(" "),r("p",[r("strong",[e._v(e._s(e.$t("Room name:")))]),e._v(e._s(e.$t("Room Name Hint")))]),e._v(" "),r("div",{staticClass:"room-name-desc"},[r("p",[r("strong",[e._v(e._s(e.$t("Room Server title")))]),e._v(e._s(e.$t("Room Server description")))]),e._v(" "),r("p",[r("strong",[e._v(e._s(e.$t("Match Server title")))]),e._v(e._s(e.$t("Match Server description")))])]),e._v(" "),r("p",[r("strong",[e._v(e._s(e.$t("View point:")))]),e._v(e._s(e.$t("View point Hint")))]),e._v(" "),r("p",[r("strong",{staticClass:"important-strong"},[e._v(e._s(e.$t("No Image Title")))]),e._v(e._s(e.$t("No Image Title description")))])]),e._v(" "),r("div",{staticClass:"overlay-content-div"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.imageResourceURL,expression:"imageResourceURL"}],attrs:{id:"room-name-overlay",type:"text"},domProps:{value:e.imageResourceURL},on:{input:function(t){t.target.composing||(e.imageResourceURL=t.target.value)}}})]),e._v(" "),r("div",{attrs:{id:"footer"}},[r("h5",[e._v(e._s(e.$t("Disclaimer")))]),e._v(" "),r("p",{attrs:{id:"disclaimer"}},[e._v(e._s(e.$t("Disclaimer description")))]),e._v(" "),r("h5",[e._v(e._s(e.$t("Links")))]),e._v(" "),r("a",{attrs:{href:"https://github.com/LPSim/backend"}},[e._v(e._s(e.$t("Backend GitHub Link")))]),e._v(" "),r("a",{attrs:{href:"https://github.com/LPSim/frontend"}},[e._v(e._s(e.$t("Frontend GitHub Link")))]),e._v(" "),r("a",{attrs:{href:"https://www.bilibili.com/video/BV1ay4y1w7qU/"}},[e._v(e._s(e.$t("Bilibili")))]),e._v(" "),e.isSelfPage?r("a",{attrs:{href:"https://beian.miit.gov.cn/"}},[e._v("ICP17027553-1")]):e._e()])])]):e._e()])},i=[],s={render:a,staticRenderFns:i};t.a=s},function(e,t,r){"use strict";var a=r(4),i=r(5),s=r(61),n=r.n(s),o=r(62);a.a.use(i.a);t.a=new i.a.Store({state:{match:null,requests:[],selectedRequest:null,positions:[],selectedPositions:[],diceSelectionRule:{},selectedDice:[],commandString:"",selectedObject:null,damageNotify:null,deck:[],deckModifyCounter:0,showDeckDiv:!1,serverURL:"",roomServerURL:"http://localhost:8000",imageResourceURL:"static/images/",roomName:"",serverConnected:!1,deckCodeData:{},imagePath:n.a,nameToId:{},availableVersions:[],descKeyToCost:{},frontendLanguage:"zh-CN"},mutations:{setDeckCodeData:function(e,t){e.deckCodeData=t,Object(o.c)(t,e.nameToId)},updateDataByPatch:function(e,t){if("1.0"!=t.version)throw"Patch version not supported";var r=t.patch,a=JSON.parse(JSON.stringify(e.imagePath)),i=JSON.parse(JSON.stringify(e.nameToId)),s=JSON.parse(JSON.stringify(e.availableVersions)),n=JSON.parse(JSON.stringify(e.descKeyToCost));for(var c in r){var l=r[c];if(l.image_path&&(a[c]=l.image_path),l.id&&(i[c]=l.id),l.descs)for(var d in l.descs)-1==s.indexOf(d)&&s.push(d);if(l.cost)for(var u in l.cost)-1!=s.indexOf(u)&&(n[c+"/"+u]=l.cost[u])}s.sort(),e.imagePath=a,e.nameToId=i,e.availableVersions=s,e.descKeyToCost=n,Object(o.c)(e.deckCodeData,e.nameToId),console.log("updateDataByPatch",e.imagePath,e.nameToId,e.availableVersions)},setSelectedObject:function(e,t){e.selectedObject=t},setMatch:function(e,t){var r=t.match,a=t.player_idx;null==a&&r.requests.length>0&&(a=r.requests[0].player_idx),e.match=r,e.requests=r.requests.filter(function(e){return e.player_idx==a});for(var i=0;i<e.requests.length;i++)e.requests[i].idx=i;var s=null;1==e.requests.length&&(s=0),this.commit("selectRequest",s)},selectRequest:function(e,t){if(e.selectedRequest=t,e.positions=[],e.selectedPositions=[],this.commit("updateCost",{mode:"none"}),e.commandString="",null!==t){var r=e.requests[t],a=r.player_idx,i=e.match.player_tables[a];if("SwitchCardRequest"==r.name)for(var s=i.hands,n=0;n<s.length;n++)e.positions.push(s[n].position);else if("ChooseCharactorRequest"==r.name)for(var o=i.charactors,c=0;c<r.available_charactor_idxs.length;c++)e.positions.push(o[r.available_charactor_idxs[c]].position);else if("RerollDiceRequest"==r.name)this.commit("updateCost",{mode:"any",player:a});else if("SwitchCharactorRequest"==r.name){var l=i.charactors;e.positions.push(l[r.target_charactor_idx].position),e.selectedPositions.push(0)}else if("ElementalTuningRequest"==r.name){for(var d=i.hands,u=0;u<d.length;u++)e.positions.push(d[u].position);this.commit("updateCost",{mode:"tune",player:a})}else"DeclareRoundEndRequest"==r.name||"UseSkillRequest"==r.name||"UseCardRequest"==r.name&&(e.positions=r.targets);1==e.positions.length&&(e.selectedPositions=[0]),void 0!=r.cost&&this.commit("updateCost",{mode:"cost",player:a,cost:r.cost}),this.commit("updateCommandString")}},updateCost:function(e,t){e.diceSelectionRule=t,e.selectedDice=[]},diceClick:function(e,t){if(t={idx:t},"none"!=e.diceSelectionRule.mode){var r=e.match.player_tables[e.diceSelectionRule.player];if("any"==e.diceSelectionRule.mode){var a=e.selectedDice.indexOf(t.idx);-1==a?e.selectedDice.push(t.idx):e.selectedDice.splice(a,1)}else if("tune"==e.diceSelectionRule.mode){var i=e.requests[e.selectedRequest].dice_idxs;if(-1==i.indexOf(t.idx))return;e.selectedDice=[t.idx]}else if("cost"==e.diceSelectionRule.mode){var s=function(e,t,r){var a=e.any_dice_number+e.same_dice_number+e.elemental_dice_number;if(r.length>a)return!1;if(e.same_dice_number>0){for(var i=null,s=0;s<r.length;s++){var n=t[r[s]];if("OMNI"!=n){if(null!=i&&i!=n)return!1;i=n}}return!0}for(var o=e.elemental_dice_number,c=0,l=0;l<r.length;l++){var d=t[r[l]];o>0&&("OMNI"==d||d==e.elemental_dice_color)?o-=1:c++}return c<=e.any_dice_number},n=e.selectedDice.indexOf(t.idx);-1!=n?e.selectedDice.splice(n,1):(e.selectedDice.push(t.idx),s(e.diceSelectionRule.cost,r.dice.colors,e.selectedDice)||(e.selectedDice=[t.idx],s(e.diceSelectionRule.cost,r.dice.colors,e.selectedDice)||(e.selectedDice=[])))}this.commit("updateCommandString")}},positionClick:function(e,t){if(null!=e.selectedRequest&&null!=t&&-1!=t){var r=e.selectedPositions.indexOf(t);"SwitchCardRequest"==e.requests[e.selectedRequest].name?-1==r?e.selectedPositions.push(t):e.selectedPositions.splice(r,1):e.selectedPositions=[t],this.commit("updateCommandString")}},updateCommandString:function(e){if(e.commandString="",null!=e.selectedRequest){if("none"!=e.diceSelectionRule.mode&&"any"!=e.diceSelectionRule.mode){var t=e.diceSelectionRule.cost,r=1;if("tune"!=e.diceSelectionRule.mode&&(r=t.any_dice_number+t.same_dice_number+t.elemental_dice_number),e.selectedDice.length!=r)return}var a=e.requests[e.selectedRequest],i={SwitchCardRequest:"sw_card",ChooseCharactorRequest:"choose",RerollDiceRequest:"reroll",SwitchCharactorRequest:"sw_char",ElementalTuningRequest:"tune",DeclareRoundEndRequest:"end",UseSkillRequest:"skill",UseCardRequest:"card"}[a.name]+" ";if("sw_card "==i){for(var s=0;s<e.selectedPositions.length;s++)for(var n=e.positions[e.selectedPositions[s]],o=e.match.player_tables[a.player_idx].hands,c=0;c<o.length;c++)if(o[c].position.id==n.id){i+=c+" ";break}}else if("choose "==i){if(1!=e.selectedPositions.length)return;for(var l=e.positions[e.selectedPositions[0]],d=e.match.player_tables[a.player_idx].charactors,u=0;u<d.length;u++)if(d[u].position.id==l.id){i+=u+" ";break}}else if("reroll "==i)i+=e.selectedDice.join(" ")+" ";else if("sw_char "==i){if(1!=e.selectedPositions.length)return;for(var h=e.positions[e.selectedPositions[0]],m=e.match.player_tables[a.player_idx].charactors,v=0;v<m.length;v++)if(m[v].position.id==h.id){i+=v+" ";break}i+=e.selectedDice.join(" ")+" "}else if("tune "==i){if(1!=e.selectedPositions.length)return;for(var p=e.positions[e.selectedPositions[0]],f=e.match.player_tables[a.player_idx].hands,_=0;_<f.length;_++)if(f[_].position.id==p.id){i+=_+" ";break}i+=e.selectedDice.join(" ")+" "}else if("end "==i);else if("skill "==i)i+=a.skill_idx+" ",i+=e.selectedDice.join(" ")+" ";else if("card "==i){if(i+=a.card_idx+" ",e.selectedPositions.length>1)return;if(0==e.selectedPositions.length&&e.positions.length>0)return;if(1==e.selectedPositions.length){var g=e.positions[e.selectedPositions[0]];if(g.positions)i+=e.selectedPositions[0]+" ";else for(var y=0;y<a.targets.length;y++)if(a.targets[y].id==g.id){i+=y+" ";break}}else i+="0 ";i+=e.selectedDice.join(" ")+" "}e.commandString=i}},setDamageNotify:function(e,t){e.damageNotify=t},setDeck:function(e,t){e.deck=t},removeDeckCard:function(e,t){var r=t.player_id,a=t.type,i=t.id;e.deck[r][a].splice(i,1)},removeDeckCards:function(e,t){var r=t.player_id,a=t.area;"ALL"!=a&&"CHARACTOR"!=a||(e.deck[r].charactors=[]),"ALL"!=a&&"CARD"!=a||(e.deck[r].cards=[])},addDeckCard:function(e,t){var r=t.player_id,a=t.type.toLowerCase()+"s",i=t.name;e.deck[r][a].push({type:i.split("/")[0],name:i.split("/")[1],version:t.version})},setShowDeckDiv:function(e,t){e.showDeckDiv=t},setRoomServerURL:function(e,t){e.roomServerURL=t,localStorage.setItem("store.state.roomServerURL",t)},setImageResourceURL:function(e,t){e.imageResourceURL=t,localStorage.setItem("store.state.imageResourceURL",t)},setServerURL:function(e,t){e.serverURL=t,localStorage.setItem("store.state.serverURL",t)},setRoomName:function(e,t){e.roomName=t,localStorage.setItem("store.state.roomName",t)},setFrontendLanguage:function(e,t){e.frontendLanguage=t,localStorage.setItem("store.state.frontendLanguage",t)},setServerConnected:function(e,t){e.serverConnected=t},addDeckModifyCounter:function(e){e.deckModifyCounter+=1},resetDeckModifyCounter:function(e){e.deckModifyCounter=0},readFromLocalStorage:function(e){var t=["roomServerURL","roomName","imageResourceURL","serverURL","frontendLanguage"],r="store.state.",a=!0,i=!1,s=void 0;try{for(var n,o=t[Symbol.iterator]();!(a=(n=o.next()).done);a=!0){var c=n.value;null==localStorage.getItem(r+c)&&localStorage.setItem(r+c,e[c]),e[c]=localStorage.getItem(r+c)}}catch(e){i=!0,s=e}finally{try{!a&&o.return&&o.return()}finally{if(i)throw s}}}},getters:{getImagePath:function(e){return function(t){var r=e.imageResourceURL;"/"!=r.slice(-1)&&(r+="/");var a=t.type,i=t.name,s=t.desc,n="";t.scale&&(n="?imageMogr2/thumbnail/"+t.scale),"TALENT"==a&&(a=a+"_"+t.charactor_name),"Unknown"==i&&(a="CARD",s=""),s&&""!=s&&(i=i+"_"+s);var o=e.imagePath[a+"/"+i];if(o&&"data:"==o.slice(0,5))return o;if(o&&"http"==o.slice(0,4))return o;if("AVATAR"==a){var c=e.imagePath["CHARACTOR/"+i];return c&&(c=c.replace(/cardface\/Char_(Avatar|Enemy|Monster)_/,"avatar/"),c=c.replace(/cardface\//,"avatar/")),r+c+n}if(("CHARACTOR_STATUS"==a||"TEAM_STATUS"==a)&&void 0==o){for(var l=i.toLowerCase().split("_"),d=[],u=0;u<l.length;u++)d.push(l[u].charAt(0).toUpperCase()+l[u].slice(1).toLowerCase());return d=d.join("_"),"Element"!=d.slice(0,7)&&(d="Common_"+d),r+"status/"+d+".png"+n}return("SUMMON"==a||"SUPPORT"==a)&&t.small_card&&o&&(o=o.replace("cardface","small_card")),void 0!=o?r+o+n:void 0}},getNamesWithType:function(e){return function(t){var r=[];for(var a in e.nameToId)a.split("/")[0]==t&&r.push(a);return r.sort(function(t,r){var a=e.nameToId[t],i=e.nameToId[r];return void 0==a&&(a=999999),void 0==i&&(i=999999),a-i}),r}},findFullNameOfCard:function(e){return function(e,t){for(var r in t){var a=r.split("/");if(2==a.length){var i=a[0],s=a[1];if(("CHARACTOR"==i||i.includes("TALENT")||"CARD"==i||"WEAPON"==i||"ARTIFACT"==i||"SUPPORT"==i||"ARCANE"==i)&&s==e)return r}}throw"Cannot find full name of "+e}},findNearestVersion:function(e){return function(e,t,r){var a=null;for(var i in r)if(i.includes(e)&&i!=e){i=i.split("/");var s=i[i.length-1];if(""==s)continue;if(s>t)continue;(null==a||s>a)&&(a=s)}return a}},getNameWithDesc:function(e){return function(e){return e.desc&&""!=e.desc?e.name+"_"+e.desc:e.name}},deckCodeToDeckStr:function(e){return function(e,t,r){return Object(o.a)(e,t,r)}},deckStrToDeckCode:function(e){return function(e){return Object(o.b)(e)}},deckStrToDeckDict:function(e,t){return function(e,r){for(var a={charactors:[],cards:[]},i="9.9",s=e.split("\n"),n=0;n<s.length;n++){var o=s[n].trim();if(""!=o)if(o.startsWith("default_version:"))i=o.slice(16);else if(o.startsWith("charactor:"))a.charactors.push({type:"CHARACTOR",name:o.slice(10),desc:"",version:t.findNearestVersion("CHARACTOR/"+o.slice(10),i,r)});else{var c=t.findFullNameOfCard(o,r),l=c.split("/");a.cards.push({type:l[0],name:l[1],desc:"",version:t.findNearestVersion(c,i,r)})}}return a}}}})},function(e,t){e.exports={"ELEMENT/PYRO":"status/Common_Element_Fire.png","ELEMENT/HYDRO":"status/Common_Element_Water.png","ELEMENT/CRYO":"status/Common_Element_Ice.png","ELEMENT/ELECTRO":"status/Common_Element_Electric.png","ELEMENT/ANEMO":"status/Common_Element_Wind.png","ELEMENT/GEO":"status/Common_Element_Rock.png","ELEMENT/DENDRO":"status/Common_Element_Grass.png","ELEMENT/PHYSICAL":"status/Common_Element_Physics.png","ELEMENT/HEAL":"status/Common_Element_Heal.png","ELEMENT/OMNI":"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7","ELEMENT/UNKNOWN":"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7","DICE/PYRO":"dice/Fire.png","DICE/HYDRO":"dice/Water.png","DICE/CRYO":"dice/Frost.png","DICE/ELECTRO":"dice/Elect.png","DICE/ANEMO":"dice/Wind.png","DICE/GEO":"dice/Roach.png","DICE/DENDRO":"dice/Grass.png","DICE/OMNI":"dice/Any.png","DICE/CHARGE":"dice/Energy.png","DICE/MATCHING":"dice/Same.png","DICE/UNALIGNED":"dice/Diff.png","DICE/ARCANE_FULL":"dice/Legend.png","DICE/ARCANE_EMPTY":"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7","DICE/UNKNOWN":"dice/Invalid.png","ICON/BARRIER":"mark/Barrier.png","ICON/SHIELD":"mark/Shield.png","ICON/COUNTER":"mark/Counter.png","ICON/TIMESTATE":"mark/TimeState.png","ICON/EQUIP_WEAPON":"status/Equip_Weapon.png","ICON/EQUIP_ARTIFACT":"status/Equip_Relic.png","ICON/EQUIP_TALENT":"status/Equip_Talent.png","ICON/HP":"mark/LifeBg.png","ICON/CHARGE_BACK":"mark/LifeBg3.png","ICON/CHARGE_FRONT":"mark/LifeBg2.png","CARD/Unknown":"cardface/Championship_02.png","CARD/Empty":"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}},function(e,t,r){"use strict";(function(e){function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(void 0!=e&&null!=e&&void 0!=e.name_map&&null!=e.name_map&&void 0!=e.forbid_list&&null!=e.forbid_list&&void 0!=t&&null!=t){m=e.name_map,v=e.forbid_list,p={};for(var r=[],a=0;a<m.length;a++)m[a].startsWith("charactor:")&&(r.push(a),m[a]=m[a].slice(10));r.length>0&&(_=r);for(var i in t){var s=t[i],n=i.split("/")[1];s<1e5&&(n="charactor:"+n),p[n]=s}for(var o in v)f.insert(v[o])}}function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=e.from(t,"base64"),n=[],o=!0,c=!1,l=void 0;try{for(var d,u=s[Symbol.iterator]();!(o=(d=u.next()).done);o=!0){var h=d.value;n.push((256+h-s[s.length-1])%256)}}catch(e){c=!0,l=e}finally{try{!o&&u.return&&u.return()}finally{if(c)throw l}}n=n.slice(0,-1),s=n.filter(function(e,t){return t%2==0}).concat(n.filter(function(e,t){return t%2!=0}));var v="",f=!0,g=!1,y=void 0;try{for(var C,b=s[Symbol.iterator]();!(f=(C=b.next()).done);f=!0){v+=C.value.toString(2).padStart(8,"0")+" "}}catch(e){g=!0,y=e}finally{try{!f&&b.return&&b.return()}finally{if(g)throw y}}v=v.replace(/ /g,"");for(var D=[],k=0;k<v.length;k+=12)D.push(parseInt(v.slice(k,k+12),2));D=D.slice(0,-1);var S=[],T=[],R=[];null!==r&&R.push("default_version:"+r);var A=!0,E=!1,w=void 0;try{for(var x,N=D[Symbol.iterator]();!(A=(x=N.next()).done);A=!0){var $=x.value;$>0&&$<=m.length&&(_.includes($-1)?S.push("charactor:"+m[$-1]):T.push(m[$-1]))}}catch(e){E=!0,w=e}finally{try{!A&&N.return&&N.return()}finally{if(E)throw w}}return i&&(T=T.sort(function(e,t){return p[e]-p[t]})),R.push.apply(R,S),R.push.apply(R,a(T)),R.join("\n")}function o(t,r){var a="",i=!0,s=!1,n=void 0;try{for(var o,c=t[Symbol.iterator]();!(i=(o=c.next()).done);i=!0){var l=o.value;if(m.includes(l)){a+=(m.indexOf(l)+1).toString(2).padStart(12,"0")+" "}else a+=(0).toString(2).padStart(12,"0")+" "}}catch(e){s=!0,n=e}finally{try{!i&&c.return&&c.return()}finally{if(s)throw n}}a=a.replace(/ /g,"");for(var d=[],u=0;u<a.length;u+=8)d.push(parseInt(a.slice(u,u+8),2));d[d.length-1]=16*d[d.length-1];for(var h=[],v=0;v<25;v++)h.push([d[v],d[v+25]]);return h=h.flat(),h.push(0),h=h.map(function(e){return(e+r)%256}),e.from(h).toString("base64")}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4,r=e.trim().split("\n").map(function(e){return e.trim()});r=r.filter(function(e){return""!==e&&"#"!==e[0]}),r=r.filter(function(e){return!e.startsWith("default_version:")}),r=r.map(function(e){return e.split("@")[0]});var a=r.filter(function(e){return e.startsWith("charactor:")}).map(function(e){return e.slice(10)}),i=r.filter(function(e){return!e.startsWith("charactor:")}),s=[],n=[],c=!0,d=!1,u=void 0;try{for(var h,m=a[Symbol.iterator]();!(c=(h=m.next()).done);c=!0){var v=h.value,p=1,_="";if(v.includes("*")){var g=v.split("*"),y=l(g,2);v=y[0],_=y[1],p=parseInt(_)}s=s.concat(Array(p).fill(v))}}catch(e){d=!0,u=e}finally{try{!c&&m.return&&m.return()}finally{if(d)throw u}}var C=!0,b=!1,D=void 0;try{for(var k,S=i[Symbol.iterator]();!(C=(k=S.next()).done);C=!0){var T=k.value,p=1,_="";if(T.includes("*")){var R=T.split("*"),A=l(R,2);T=A[0],_=A[1],p=parseInt(_)}n=n.concat(Array(p).fill(T))}}catch(e){b=!0,D=e}finally{try{!C&&S.return&&S.return()}finally{if(b)throw D}}if(s.length>3||n.length>30)throw new Error("Too many characters or cards");var E=Array.from({length:256},function(e,t){return t});E.sort(function(){return Math.random()-.5});for(var w=0;w<t;w++){var x=E[w];w>=256&&(x=Math.floor(256*Math.random()),n=n.sort(function(){return Math.random()-.5}));var N=s.concat(Array(3-s.length).fill("")).concat(n).concat(Array(30-n.length).fill("")),$=o(N,x),I=$.toLowerCase().replace("+","");if(!f.search(I))return $}throw new Error("In generating deck code: retry time exceeded")}r.d(t,"c",function(){return s}),r.d(t,"a",function(){return n}),r.d(t,"b",function(){return c});var l=function(){function e(e,t){var r=[],a=!0,i=!1,s=void 0;try{for(var n,o=e[Symbol.iterator]();!(a=(n=o.next()).done)&&(r.push(n.value),!t||r.length!==t);a=!0);}catch(e){i=!0,s=e}finally{try{!a&&o.return&&o.return()}finally{if(i)throw s}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),u=function e(){i(this,e),this.children={},this.isEndOfWord=!1},h=function(){function e(){i(this,e),this.root=new u}return d(e,[{key:"insert",value:function(e){var t=this.root,r=!0,a=!1,i=void 0;try{for(var s,n=e[Symbol.iterator]();!(r=(s=n.next()).done);r=!0){var o=s.value;o in t.children||(t.children[o]=new u),t=t.children[o]}}catch(e){a=!0,i=e}finally{try{!r&&n.return&&n.return()}finally{if(a)throw i}}t.isEndOfWord=!0}},{key:"match",value:function(e){var t=this.root,r=!0,a=!1,i=void 0;try{for(var s,n=e[Symbol.iterator]();!(r=(s=n.next()).done);r=!0){var o=s.value;if(!(o in t.children))return!1;if(t=t.children[o],t.isEndOfWord)return!0}}catch(e){a=!0,i=e}finally{try{!r&&n.return&&n.return()}finally{if(a)throw i}}return!1}},{key:"search",value:function(e){for(var t=0;t<e.length;t++)if(this.match(e.slice(t)))return!0;return!1}}]),e}(),m=[],v=[],p={},f=new h,_=Array.from({length:60},function(e,t){return t})}).call(t,r(63).Buffer)},,,,,,function(e,t,r){"use strict";for(var a=["zh-CN","en-US"],i={},s=0;s<a.length;s++){var n=a[s];i[n]=r(69)("./"+n+".json")}t.a={locale:a[0],fallbackLocale:a,messages:i}},function(e,t,r){function a(e){return r(i(e))}function i(e){var t=s[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var s={"./en-US.json":70,"./zh-CN.json":71};a.keys=function(){return Object.keys(s)},a.resolve=i,e.exports=a,a.id=69},function(e,t){e.exports={"Version: ":"Version: ","Switch Card":"Switch Card","Reroll Dice":"Reroll Dice","Choose Charactor":"Choose Charactor","Elemental Tuning":"Elemental Tuning","Declare Round End":"Declare Round End","Switch To ":"Switch To ",Confirm:"Confirm",Cancel:"Cancel","Round has not ended":"Round has not ended","Round has ended":"Round has ended","Table Deck: ":"Table Deck: Remaining {n} cards",Send:"Send",Refresh:"Refresh","Toggle Debug":"Toggle Debug","Auto Refresh frequency (ms):":"Auto Refresh freq (ms):","Server URL:":"Server URL:",Prev:"Prev",Next:"Next","Current step:":"Current step:","Step count:":"Step count:",Jump:"Jump","Round ":"Round {n}","No Match Data.":"No Match Data.","Refresh or load replay in debug.":"Refresh, start new match or load replay in debug.","Please select view point.":"Please select view point.","Current Match State: ":"Current Match State: ","Current is Your Turn":"Current is Your Turn","Current is Not Your Turn":"Current is Not Your Turn","Player :":"Player {n}:","View point:":"View point:","Display Mode:":"Display Mode:","Judge Mode (show information of all players)":"Judge Mode (show info of all players)","Play Mode (show information only current player)":"Play Mode (show info only current player)","Upload replay file:":"Upload replay file:",used:"used","Switch to":"Switch to","You declare round end":"You declare round end","Opponent declare round end":"Opponent declare round end","Check/Set Deck":"Check/Set Deck","Start New Match":"Start New Match",Charactors:"Charactors",Cards:"Cards","Are you sure to remove ":"Are you sure to remove ","charactor: ":"charactor: ","card: ":"card: ","?":"?","Deck name:":"Deck name:","Add Charactor":"Add Charactor","Add Card":"Add Card","Upload Deck":"Upload Deck","Version for ":"Version {version} for "," not exist!":" not exist!","Version for added cards:":"Version for added cards:","Deck uploaded successfully!":"Deck uploaded successfully!","Are you sure to remove all cards?":"Are you sure to remove all cards?","Are you sure to remove all charactors?":"Are you sure to remove all charactors?","Are you sure to remove all charactors and cards?":"Are you sure to remove all charactors and cards?",Clear:"Clear","Game reset successfully!":"Game reset successfully!","Skill Prediction":"Skill Prediction","Start Refresh":"Start","Stop Refresh":"Stop","Reset Match to This Index":"Reset to Current Idx","Are you sure to start a new match?":"Are you sure to start a new match?","Are you sure to reset match to current index?":"Are you sure to reset match to current index {n}?",Current:"Current",Back:"Back",Available:"Available","To connect localhost server, visit https://lpsim.zyr17.cn. Currently you are visiting http page.":"To connect localhost server, visit https://lpsim.zyr17.cn. Currently you are visiting http page.","To connect LAN server, visit http://lpsim.zyr17.cn. Currently you are visiting https page.":"To connect LAN server, visit http://lpsim.zyr17.cn. Currently you are visiting https page.","To connect https server, visit https://lpsim.zyr17.cn. Currently you are visiting http page.":"To connect localhost server, visit https://lpsim.zyr17.cn. Currently you are visiting http page.","Server version is ":"Server version is ",", but client version is ":", but client version is ",". Client may not work properly.":". Client may not work properly.","Waiting for opponent action. Current state is initial state, state will update until both players have done actions.":"Waiting for opponent action. Current state is initial state, state will update until both players have done actions.","Game End":"Game End","You win":"You win","Opponent win":"Opponent win","No available action at current index! cannot reset to this index.":"No available action at current index! cannot reset to this index.","Jump to End":"To End",Connect:"Connect",Connected:"Connected","Please connect server.":"Please connect server.","Connected to server.":"Connected to server.","Stop server connection by error, clear all data?":"Error occured, auto refresh is disabled and disconnect to server. Do you want to clear all data and re-connect server? If the reason that caused the error is starting new match, click OK. If you want to check current match history or error caused by other reason, click Cancel.","Network response is not ok with detail \n\n":"Network response is not ok with detail \n\n","Error in uploading deck. ":"Error in uploading deck. ","\n\nFind detail in console.":"\n\nFind detail in console.","Deck is modified, are you sure to close it?":"Deck is modified, are you sure to close it?","Deck Code":"Deck Code","\nFind detail in console.":"\nFind detail in console.","Error in connecting server. ":"Error in connecting server. ","Current Deck Code":"Current Deck Code","Input Deck Code":"Input Deck Code",Close:"Close","Copy Code":"Copy Code","Copied!":"Copied!","Use Code":"Use Code","Current deck is modified and not uploaded, please upload the deck before getting the deck code!":"Current deck is modified and not uploaded, please upload the deck before getting the deck code, or exit and re-enter deck page to reset deck!","Error in getting deck code. ":"Error in getting deck code. ","Error in getting deck. ":"Error in getting deck. ","Deck code length should be 68!":"Deck code length should be 68!","Deck code parsed successfully! Currently not uploaded to server, please upload manually.":"Deck code parsed successfully! Currently not uploaded to server, please upload manually.","\n\nWarning: the following cards/charactors are not available in selected version, they will be ignored:\n":"\n\nWarning: the following cards/charactors are not available in selected version, they will be ignored:\n","Error in parsing deck code\n\n":"Error in parsing deck code\n\n","Too many characters or cards":"Too many characters or cards","In generating deck code: retry time exceeded":"In generating deck code: retry time exceeded","Network response is not ok with detail ":"Network response is not ok with detail ","Error in checking server version. ":"Error in checking server version. ","Error in sending response. If this error occurs frequently, please try refreshing the page. Detail: ":"Error in sending response. If this error occurs frequently, please try refreshing the page. Detail: ","Error in refreshing data. ":"Error in refreshing data. ","Error in getting deck. If this error occurs frequently, please try refreshing the page. Detail: ":"Error in getting deck. If this error occurs frequently, please try refreshing the page. Detail: ","Error in starting new match. ":"Error in starting new match. ","Error in reset game. ":"Error in reset game. ","UUID not match! refresh stopped. Clear all data and continue refreshing?":"UUID not match! refresh stopped. Clear all data and continue refreshing?","Room name:":"Room name:",Player:"Player {n}","LPSim frontend":"LPSim Frontend","Room Server title":"If you are using Room Server: ","Room Server description":"Room name length should between 4-12, and can only use alphabets, numbers and underscore.","Match Server title":"If you are using Match Server: ","Match Server description":"Leave room name empty.","Frontend cannot run independently":"Frontend cannot run independently, and should connect to LPSim backend server to run. ","Frontend cannot run independently description":"If you haven't run a backend server, please refer to project README or video manual to run backend server first.",Note:"Note","Server URL Hint":"Input server URL. You should input full URL include HTTP protocol and port. e.g., https://lpsim.backend.server:23333","Room Name Hint":"Input room name. Based on backend server type, two different rules are applied.","View point Hint":"Select view point when entering the room. You can also change your view point after entering the room.","Frontend GitHub Link":"Frontend GitHub Repo","Backend GitHub Link":"Backend GitHub Repo",Bilibili:"Bilibili",Links:"Links","Disclaimer: ":"Disclaimer: ",Disclaimer:"Disclaimer","Disclaimer description":"This project is for learning and communication only. Code of this project is open-sourced with APGLv3 license. This project is not affiliated with miHoYo. All game text and image materials are owned by miHoYo. This project and its repositories do not contain any materials owned by miHoYo.","Room name must be 4-12 characters, only contains alphabets, numbers or underscore(_).":"Room name must be 4-12 characters, only contains alphabets, numbers or underscore(_).","Server is room server, but room name is empty. Please input room name.":"Server is room server, but room name is empty. Please input room name.","Server is match server, but room name is not empty. Please clear room name.":"Server is match server, but room name is not empty. Please clear room name.","Error in posting room name. ":"Error in posting room name. ","Create room failed. Please check backend output.":"Create room failed. Please check backend output.","Room is full. Please try to create new room later or enter existing rooms.":"Room is full. Please try to create new room later or enter existing rooms.","Successfully enter room ":"Successfully enter room ","Successfully create room ":"Successfully create room ","No Image Title":"Initially no image is available with the frontend. ","No Image Title description":"If you want to show images, you should collect images by yourself, then input the image path URL in the following input. If leaves empty or wrong URL, no image will be shown.","Equip Talent Text":"T","Equip Weapon Text":"W","Equip Artifact Text":"A","SKILL_TYPE/NORMAL_ATTACK":"Normal Attack","SKILL_TYPE/ELEMENTAL_SKILL":"Elemental Skill","SKILL_TYPE/ELEMENTAL_BURST":"Elemental Burst","SKILL_TYPE/PASSIVE":"Passive Skill","MATCHSTATE/INVALID":"Invalid","MATCHSTATE/ERROR":"Error","MATCHSTATE/WAITING":"Waiting","MATCHSTATE/STARTING":"Game is about to start","MATCHSTATE/STARTING_CARD_SWITCH":"Game is about to start: Switch Card","MATCHSTATE/STARTING_CHOOSE_CHARACTOR":"Game is about to start: Choose Character","MATCHSTATE/GAME_START":"Game Start","MATCHSTATE/ROUND_START":"Round Start","MATCHSTATE/ROUND_ROLL_DICE":"Dice Roll Phase","MATCHSTATE/ROUND_PREPARING":"Preparing Phase","MATCHSTATE/PLAYER_ACTION_START":"Player Action Start","MATCHSTATE/PLAYER_ACTION_REQUEST":"Waiting for Player to Choose Action","MATCHSTATE/ROUND_ENDING":"Ending Phase","MATCHSTATE/ROUND_ENDED":"Round Ended","MATCHSTATE/ENDED":"Game Ended","CARD/Unknown":"Unknown","CARD/Empty":""}},function(e,t){e.exports={"Version: ":"","Switch Card":"","Reroll Dice":"","Choose Charactor":"","Elemental Tuning":"","Declare Round End":"","Switch To ":"",Confirm:"",Cancel:"","Round has not ended":"","Round has ended":"","Table Deck: ":"{n}",Send:"",Refresh:"","Toggle Debug":"","Auto Refresh frequency (ms):":"","Server URL:":"",Prev:"",Next:"","Current step:":"","Step count:":"",Jump:"","Round ":" {n} ","No Match Data.":"","Refresh or load replay in debug.":"","Please select view point.":"","Current Match State: ":"","Current is Your Turn":"","Current is Not Your Turn":"","Player :":"{n}","View point:":"","Display Mode:":"","Judge Mode (show information of all players)":"","Play Mode (show information only current player)":"","Upload replay file:":"",used:"","Switch to":"","You declare round end":"","Opponent declare round end":"","Check/Set Deck":"/","Start New Match":"",Charactors:"",Cards:"","Are you sure to remove ":" ","charactor: ":"","card: ":"","?":" ","Deck name:":"","Add Charactor":"","Add Card":"","Upload Deck":"","Version for ":" {version}  "," not exist!":" ","Version for added cards:":"","Deck uploaded successfully!":"","Are you sure to remove all cards?":"","Are you sure to remove all charactors?":"","Are you sure to remove all charactors and cards?":"",Clear:"","Game reset successfully!":"","Skill Prediction":"","Start Refresh":"","Stop Refresh":"","Reset Match to This Index":"","Are you sure to start a new match?":"","Are you sure to reset match to current index?":" {n} ",Current:"",Back:"",Available:"","To connect localhost server, visit https://lpsim.zyr17.cn. Currently you are visiting http page.":" https://lpsim.zyr17.cn http ","To connect LAN server, visit http://lpsim.zyr17.cn. Currently you are visiting https page.":" http://lpsim.zyr17.cn https ","To connect https server, visit https://lpsim.zyr17.cn. Currently you are visiting http page.":" https  https://lpsim.zyr17.cn http ","Server version is ":" ",", but client version is ":" ",". Client may not work properly.":"","Waiting for opponent action. Current state is initial state, state will update until both players have done actions.":"","Game End":"","You win":"","Opponent win":"","No available action at current index! cannot reset to this index.":"","Jump to End":"",Connect:"",Connected:"","Please connect server.":"","Connected to server.":"","Stop server connection by error, clear all data?":"","Network response is not ok with detail \n\n":"\n\n","Error in uploading deck. ":" ","\n\nFind detail in console.":"\n\n","Deck is modified, are you sure to close it?":"","Deck Code":"","\nFind detail in console.":"\n","Error in connecting server. ":"","Current Deck Code":"","Input Deck Code":"",Close:"","Copy Code":"","Copied!":"","Use Code":"","Current deck is modified and not uploaded, please upload the deck before getting the deck code!":"","Error in getting deck code. ":" ","Error in getting deck. ":" ","Deck code length should be 68!":" 68","Deck code parsed successfully! Currently not uploaded to server, please upload manually.":"","\n\nWarning: the following cards/charactors are not available in selected version, they will be ignored:\n":"\n\n/\n","Error in parsing deck code\n\n":"\n\n","Too many characters or cards":"","In generating deck code: retry time exceeded":"","Network response is not ok with detail ":"","Error in checking server version. ":"","Error in sending response. If this error occurs frequently, please try refreshing the page. Detail: ":"","Error in refreshing data. ":"","Error in getting deck. If this error occurs frequently, please try refreshing the page. Detail: ":"","Error in starting new match. ":"","Error in reset game. ":"","UUID not match! refresh stopped. Clear all data and continue refreshing?":"UUID ","Room name:":"",Player:"{n}","LPSim frontend":"LPSim","Room Server title":" Room Server","Room Server description":"4-12","Match Server title":" Match Server","Match Server description":"","Frontend cannot run independently":"LPSim","Frontend cannot run independently description":"",Note:"","Server URL Hint":"URLHTTPhttps://lpsim.backend.server:23333","Room Name Hint":"","View point Hint":"","Frontend GitHub Link":"GitHub","Backend GitHub Link":"GitHub",Bilibili:"B()",Links:"","Disclaimer: ":"",Disclaimer:"","Disclaimer description":"AGPLv3","Room name must be 4-12 characters, only contains alphabets, numbers or underscore(_).":"4-12(_)","Server is room server, but room name is empty. Please input room name.":"RoomServer","Server is match server, but room name is not empty. Please clear room name.":"MatchServer","Error in posting room name. ":"","Create room failed. Please check backend output.":"","Room is full. Please try to create new room later or enter existing rooms.":"","Successfully enter room ":" ","Successfully create room ":" ","No Image Title":"","No Image Title description":"URLURL","Equip Talent Text":"","Equip Weapon Text":"","Equip Artifact Text":"","SKILL_TYPE/NORMAL_ATTACK":"","SKILL_TYPE/ELEMENTAL_SKILL":"","SKILL_TYPE/ELEMENTAL_BURST":"","SKILL_TYPE/PASSIVE":"","MATCHSTATE/INVALID":"","MATCHSTATE/ERROR":"","MATCHSTATE/WAITING":"","MATCHSTATE/STARTING":"","MATCHSTATE/STARTING_CARD_SWITCH":"","MATCHSTATE/STARTING_CHOOSE_CHARACTOR":"","MATCHSTATE/GAME_START":"","MATCHSTATE/ROUND_START":"","MATCHSTATE/ROUND_ROLL_DICE":"","MATCHSTATE/ROUND_PREPARING":"","MATCHSTATE/PLAYER_ACTION_START":"","MATCHSTATE/PLAYER_ACTION_REQUEST":"","MATCHSTATE/ROUND_ENDING":"","MATCHSTATE/ROUND_ENDED":"","MATCHSTATE/ENDED":"","CARD/Unknown":"","CARD/Empty":""}}],[18]);
//# sourceMappingURL=client.e9f3d75a.js.map